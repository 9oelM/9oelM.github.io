{"componentChunkName":"component---src-templates-blog-post-js","path":"/2018-06-05--Creating-music-player/","result":{"data":{"site":{"siteMetadata":{"title":"Joel's dev blog","author":"Joel Mun","siteUrl":"https://9oelm.github.io"}},"markdownRemark":{"id":"4cfec386-47a6-5e68-9518-e858f5d142d0","excerpt":"Set up And simple test  And check on the server if the app is working properly.  Add theme  Add logic test for the theme  Apply the theme  Add support for sass…","html":"<h2>Set up</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g create-react-app\n\ncreate-react-app 7omp\n\ncd 7omp\n\nnpm install --save @material-ui/core typeface-roboto @material-ui/icons</code></pre></div>\n<h2>And simple test</h2>\n<p><code class=\"language-text\">App.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'typeface-roboto'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Button <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/Button'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Button variant<span class=\"token operator\">=</span><span class=\"token string\">\"contained\"</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"primary\"</span><span class=\"token operator\">></span>\n      Hello World\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Button<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<p>And check on the server if the app is working properly. </p>\n<h2>Add theme</h2>\n<p><code class=\"language-text\">src/styles/theme.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> purple <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/colors/purple'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> red <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/colors/red'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createMuiTheme <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/styles'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> theme <span class=\"token operator\">=</span> <span class=\"token function\">createMuiTheme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  palette<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    primary<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      light<span class=\"token operator\">:</span> <span class=\"token string\">'#ffcccb'</span><span class=\"token punctuation\">,</span>\n      main<span class=\"token operator\">:</span> <span class=\"token string\">'#ef9a9a'</span><span class=\"token punctuation\">,</span>\n      dark<span class=\"token operator\">:</span> <span class=\"token string\">'#ba6b6c'</span><span class=\"token punctuation\">,</span>\n      contrastText<span class=\"token operator\">:</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    secondary<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      light<span class=\"token operator\">:</span> <span class=\"token string\">'#ffc1e3'</span><span class=\"token punctuation\">,</span>\n      main<span class=\"token operator\">:</span> <span class=\"token string\">'#f48fb1'</span><span class=\"token punctuation\">,</span>\n      dark<span class=\"token operator\">:</span> <span class=\"token string\">'#bf5f82'</span><span class=\"token punctuation\">,</span>\n      contrastText<span class=\"token operator\">:</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> theme<span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Add logic test for the theme</h2>\n<p><code class=\"language-text\">src/__test__/theme.test.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> Theme <span class=\"token keyword\">from</span> <span class=\"token string\">'../styles/theme'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> customThemeInserted <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    primary<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        light<span class=\"token operator\">:</span> <span class=\"token string\">'#ffcccb'</span><span class=\"token punctuation\">,</span>\n        main<span class=\"token operator\">:</span> <span class=\"token string\">'#ef9a9a'</span><span class=\"token punctuation\">,</span>\n        dark<span class=\"token operator\">:</span> <span class=\"token string\">'#ba6b6c'</span><span class=\"token punctuation\">,</span>\n        contrastText<span class=\"token operator\">:</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    secondary<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        light<span class=\"token operator\">:</span> <span class=\"token string\">'#ffc1e3'</span><span class=\"token punctuation\">,</span>\n        main<span class=\"token operator\">:</span> <span class=\"token string\">'#f48fb1'</span><span class=\"token punctuation\">,</span>\n        dark<span class=\"token operator\">:</span> <span class=\"token string\">'#bf5f82'</span><span class=\"token punctuation\">,</span>\n        contrastText<span class=\"token operator\">:</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/*\nThe theme contains palette object created by createMuiTheme function\n*/</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The palette of the theme has been inserted correctly'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>Theme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'palette'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>Theme<span class=\"token punctuation\">.</span>palette<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'primary'</span><span class=\"token punctuation\">,</span> customThemeInserted<span class=\"token punctuation\">.</span>primary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>Theme<span class=\"token punctuation\">.</span>palette<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'secondary'</span><span class=\"token punctuation\">,</span> customThemeInserted<span class=\"token punctuation\">.</span>secondary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2><a href=\"https://github.com/mui-org/material-ui/issues/6446\">Apply the theme</a></h2>\n<p><code class=\"language-text\">layout.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Grid <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/Grid'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> MuiThemeProvider <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/styles/MuiThemeProvider'</span>\n<span class=\"token keyword\">import</span> Theme <span class=\"token keyword\">from</span> <span class=\"token string\">'../styles/theme'</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Layout</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>    \n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>MuiThemeProvider theme<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>Theme<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Grid container  direction <span class=\"token operator\">=</span> <span class=\"token string\">\"column\"</span><span class=\"token operator\">></span>\n            <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Grid<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>MuiThemeProvider<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Layout<span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Add support for sass</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save node-sass-chokidar</code></pre></div>\n<h2>Try out on production</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g serve\nserve -s build\nserve -p 8080</code></pre></div>\n<h2>Make the hot reloading work</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save-dev react-app-rewired react-app-rewire-hot-loader react-hot-loader</code></pre></div>\n<p>just following the simple steps at <a href=\"https://daveceddia.com/hot-reloading-create-react-app/\">here</a> made it work!</p>\n<h2>Adding redux to the project</h2>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://redux.js.org/basics/example-todo-list\">redux homepage todo example</a></li>\n<li><a href=\"https://d2.naver.com/helloworld/1848131\">naver d2</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save react-redux redux</code></pre></div>\n<h3>1. Edit the entry point for the use of redux</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> registerServiceWorker <span class=\"token keyword\">from</span> <span class=\"token string\">'./registerServiceWorker'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"./styles/customStyles.css\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AppContainer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-hot-loader'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> rootReducer <span class=\"token keyword\">from</span> <span class=\"token string\">'./reducer'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>rootReducer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">render</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">Component</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// Wrap App inside AppContainer</span>\n    <span class=\"token operator\">&lt;</span>AppContainer<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AppContainer<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">registerServiceWorker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Webpack Hot Module Replacement API</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">.</span>hot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  module<span class=\"token punctuation\">.</span>hot<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./App'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">AppContainer</code> is just for the hot reloading. <code class=\"language-text\">Provider</code> is to make it easy to set the context for all children elements. If you add Provider once at the top, children elements can access the store through the context.  </p>\n<h3>2. Project structure</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">j031:~/workspace/7omp (add4-addRedux) $ tree -L 3 -I node_modules\n.\n├── README.md\n├── config-overrides.js\n├── package.json\n├── public\n│   ├── favicon.ico\n│   ├── index.html\n│   └── manifest.json\n└── src\n    ├── App.js\n    ├── __test__\n    │   ├── App.test.js\n    │   └── theme.test.js\n    ├── actions ---------------------------&gt; for redux actions\n    │   ├── constants.js\n    │   └── index.js\n    ├── components\n    │   ├── Layout.js\n    │   ├── LowerAppBar.js\n    │   ├── MainContainer.js\n    │   ├── Player.js\n    │   └── UpperAppBar.js\n    ├── index.js ---------------------------&gt; redux entry point\n    ├── logo.svg\n    ├── reducers ---------------------------&gt; for redux reducers\n    │   └── reducers.js\n    ├── registerServiceWorker.js\n    ├── store ---------------------------&gt; for redux store\n    │   └── index.js\n    └── styles\n        ├── customStyles.css\n        ├── customStyles.sass\n        └── muiTheme.js\n\n8 directories, 24 files</code></pre></div>\n<h3>3. Make actions</h3>\n<p><code class=\"language-text\">actions/index.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Import constants (action types)</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">C</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./constants\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Action creators</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">toggleSearchButton</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">searchOn</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  type<span class=\"token operator\">:</span> <span class=\"token constant\">C</span><span class=\"token punctuation\">.</span><span class=\"token constant\">TOGGLE_SEARCH_BUTTON</span><span class=\"token punctuation\">,</span>\n  searchOn <span class=\"token comment\">// Boolean</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Action creators just literally return actions. That’s it.\nBut they’ve gotta have their types.</p>\n<p>To make it easy for the type, I created a file called <code class=\"language-text\">constants</code>:\n<code class=\"language-text\">actions/constants.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token constant\">C</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">TOGGLE_SEARCH_BUTTON</span><span class=\"token operator\">:</span> <span class=\"token string\">'TOGGLE_SEARCH_BUTTON'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token constant\">C</span></code></pre></div>\n<h3>4. Make reducers</h3>\n<p><code class=\"language-text\">reducers/reducers.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> combineReducers <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span>\n\n<span class=\"token comment\">/*\nReducers specify how the application's state changes in response to actions sent to the store. Remember that actions only describe what happened, but don't describe how the application's state changes.\n*/</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token constant\">C</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../actions/constants'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> initialState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    searchOn<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">// search button is not clicked yet</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// This reducer is only for storing information on user interactions in the app</span>\n<span class=\"token comment\">// the state would be undefined for the first time, so fill it with initialState instead</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">jompAppView</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state <span class=\"token operator\">=</span> initialState<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// return new objects instead of modifying them</span>\n        <span class=\"token keyword\">case</span> <span class=\"token constant\">C</span><span class=\"token punctuation\">.</span><span class=\"token constant\">TOGGLE_SEARCH_BUTTON</span><span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n                searchOn<span class=\"token operator\">:</span> <span class=\"token operator\">!</span>state<span class=\"token punctuation\">.</span>searchOn\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> \n            <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">/*\n        It's important to return the previous state for any unknown action.\n        */</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* state shape\n{\n    searchOn: false\n}\n*/</span>\n\n<span class=\"token comment\">/*\n    Finally, combine reducers\n*/</span>\n<span class=\"token keyword\">const</span> jompApp <span class=\"token operator\">=</span> <span class=\"token function\">combineReducers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    jompAppView<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> jompApp</code></pre></div>\n<p>This is the reducer. For now, there is only one reducer function, <code class=\"language-text\">jompAppView</code>. But in the future, there will be more reducer functions, and that is why you do <code class=\"language-text\">combineReducers</code> at the end. </p>\n<h3>5. Store</h3>\n<p><code class=\"language-text\">store/index.js</code> is empty for now. Additional configuration will require some content in this file. </p>\n<p><code class=\"language-text\">index.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> registerServiceWorker <span class=\"token keyword\">from</span> <span class=\"token string\">'./registerServiceWorker'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"./styles/customStyles.css\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AppContainer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-hot-loader'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> reducers <span class=\"token keyword\">from</span> <span class=\"token string\">'./reducers/reducers'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> toggleSearchButton <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./actions/index'</span>\n\n<span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>reducers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">render</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">Component</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// Wrap App inside AppContainer</span>\n    <span class=\"token operator\">&lt;</span>AppContainer<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AppContainer<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Every time the state changes, log it</span>\n<span class=\"token comment\">// Note that subscribe() returns a function for unregistering the listener</span>\n<span class=\"token keyword\">const</span> unsubscribe <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">registerServiceWorker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Webpack Hot Module Replacement API</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">.</span>hot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  module<span class=\"token punctuation\">.</span>hot<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./App'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li>\n<p>You create the store with reducers first</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>reducers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>Pass that store as a <code class=\"language-text\">store</code> <code class=\"language-text\">prop</code> into that app, wrapping it with <code class=\"language-text\">Provider</code> Element.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span></code></pre></div>\n</li>\n<li>\n<p>To see if the store is working well, log the state changes:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Every time the state changes, log it</span>\n<span class=\"token comment\">// Note that subscribe() returns a function for unregistering the listener</span>\n<span class=\"token keyword\">const</span> unsubscribe <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p>Look into the app\nIn the javascript console on the browser, you’ve gotta see this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">index<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">29</span> <span class=\"token punctuation\">{</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>…<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>searchOn<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span>__proto__<span class=\"token operator\">:</span> Object\nindex<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">29</span> <span class=\"token punctuation\">{</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>…<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>searchOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span>__proto__<span class=\"token operator\">:</span> Object\nindex<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">29</span> <span class=\"token punctuation\">{</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>…<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>searchOn<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span>__proto__<span class=\"token operator\">:</span> Object\nindex<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">29</span> <span class=\"token punctuation\">{</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>…<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>searchOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span>__proto__<span class=\"token operator\">:</span> Object\nindex<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">29</span> <span class=\"token punctuation\">{</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>…<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>jompAppView<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>searchOn<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span>__proto__<span class=\"token operator\">:</span> Object</code></pre></div>\n</li>\n</ol>\n<p>You can see that searchOn is being switched from false and true, and vice versa. This is because of <code class=\"language-text\">store.dispatch</code> that triggerred the actions. </p>\n<h2>What the heck is <code class=\"language-text\">withstyles</code></h2>\n<p>Mui supports something called <code class=\"language-text\">withstyles</code>.</p>\n<p>See:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> withStyles <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/styles'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>and do something like</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">styles</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">theme</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  card<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    display<span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  details<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    display<span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\n    flexDirection<span class=\"token operator\">:</span> <span class=\"token string\">'column'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  content<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    flex<span class=\"token operator\">:</span> <span class=\"token string\">'1 0 auto'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  cover<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">151</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">151</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  controls<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    display<span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\n    alignItems<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\n    paddingLeft<span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>spacing<span class=\"token punctuation\">.</span>unit<span class=\"token punctuation\">,</span>\n    paddingBottom<span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>spacing<span class=\"token punctuation\">.</span>unit<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  playIcon<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">38</span><span class=\"token punctuation\">,</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">38</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>But I did not quite get the hang of how it works and how it actually gets applied to React. So I finally found the <a href=\"https://material-ui.com/customization/css-in-js/\">API</a>.</p>\n<h2>Starting off</h2>\n<p><a href=\"https://9oelm.github.io/works/2018/06/13/Creating-music-player-(2)-Specifics.html\">Last time</a>, we looked into how redux in a web development project could be installed and set up. Now we are going to find out how to actually connect the source with redux configruations (for example, editing state in the <code class=\"language-text\">store</code> when a button is clicked)</p>\n<h2>Redux and React are not… a family</h2>\n<p>They are just separate, unrelated libraries. They are just good to be used together. </p>\n<h2>Subscribing</h2>\n<p>Passing a function as an argument to <code class=\"language-text\">store.subscribe</code> function would append that function to it:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">store<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"something happened - perhaps write something more like store.getState().data\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>When you wanna unsubscribe it, just call that function returned from <code class=\"language-text\">subscribe</code> function:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> unsubscribe <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"something happened - perhaps write something more like store.getState().data\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// stop logging</span></code></pre></div>\n<h2>Container components</h2>\n<p>For now, I will just need one container component, which is <code class=\"language-text\">UpperAppBarContainer</code>. </p>\n<p>First you need to pass <code class=\"language-text\">this.props.onClick</code> to <code class=\"language-text\">UpperAppBar</code>’s prop:\n<code class=\"language-text\">components/UpperAppBar.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">UpperAppBar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> classes<span class=\"token punctuation\">,</span> onClick <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">{</span><span class=\"token comment\">/* &lt;-- Here */</span><span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>AppBar position<span class=\"token operator\">=</span><span class=\"token string\">\"static\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Toolbar<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>IconButton className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>menuButton<span class=\"token punctuation\">}</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"inherit\"</span> aria<span class=\"token operator\">-</span>label<span class=\"token operator\">=</span><span class=\"token string\">\"Menu\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>MenuIcon <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>IconButton<span class=\"token operator\">></span>\n          \n          <span class=\"token operator\">&lt;</span>Typography variant<span class=\"token operator\">=</span><span class=\"token string\">\"title\"</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"inherit\"</span> className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>flex<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token number\">7</span>o Music Player\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Typography<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>IconButton color <span class=\"token operator\">=</span> <span class=\"token string\">\"inherit\"</span> aria<span class=\"token operator\">-</span>label<span class=\"token operator\">=</span><span class=\"token string\">\"Search\"</span> onClick <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>onClick<span class=\"token punctuation\">}</span> <span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><span class=\"token comment\">/* &lt;-- And Here */</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span>SearchIcon <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>IconButton<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Toolbar<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AppBar<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And then you need to make a container component with <code class=\"language-text\">react-redux</code>.\n<code class=\"language-text\">components/containers/containers.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> UpperAppBar <span class=\"token keyword\">from</span> <span class=\"token string\">'../UpperAppBar'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> connect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> toggleSearchButton <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../actions/index'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> UpperAppBarContainer <span class=\"token operator\">=</span> <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// no new states needed to be told</span>\n    <span class=\"token parameter\">dispatch</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token function\">onClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">toggleSearchButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"clicked\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// just for testing purpose</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>UpperAppBar<span class=\"token punctuation\">)</span></code></pre></div>\n<p>I don’t know well, but inside that <code class=\"language-text\">connect</code> function, you are passing the <code class=\"language-text\">onClick</code> function as a prop to the <code class=\"language-text\">UpperAppBar</code>. And the </p>\n<p><a href=\"https://www.sohamkamani.com/blog/2017/03/31/react-redux-connect-explained/\">sohamkamani.com</a></p>\n<blockquote>\n<p>mapStateToProps and mapDispatchToProps are both pure functions that are provided the stores “state” and “dispatch” respectively. <strong>Furthermore, both functions have to return an object, whose keys will then be passed on as the props of the component they are connected to.</strong></p>\n</blockquote>","frontmatter":{"title":"Creating music player","date":"June 05, 2018"}}},"pageContext":{"slug":"/2018-06-05--Creating-music-player/","previous":{"fields":{"slug":"/2018-06-04--Yet-another-blog-in-nextjs/"},"frontmatter":{"title":"Yet another blog in nextjs"}},"next":{"fields":{"slug":"/2018-06-07--Using-npm/"},"frontmatter":{"title":"Using npm"}}}},"staticQueryHashes":["3128451518","426816048"]}