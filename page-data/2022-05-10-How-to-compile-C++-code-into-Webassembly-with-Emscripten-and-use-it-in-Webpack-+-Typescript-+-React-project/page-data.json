{"componentChunkName":"component---src-templates-blog-post-js","path":"/2022-05-10-How-to-compile-C++-code-into-Webassembly-with-Emscripten-and-use-it-in-Webpack-+-Typescript-+-React-project/","result":{"data":{"site":{"siteMetadata":{"title":"Joel's dev blog","author":"Joel Mun","siteUrl":"https://9oelm.github.io"}},"markdownRemark":{"id":"2899d784-4c29-5e03-977f-3330975fd9bd","excerpt":"Rationale I have been trying to port some C++ project to Webassembly for the first time (I have worked on Assemblyscript and Rust projects for WASM, but this…","html":"<h2 id=\"rationale\" style=\"position:relative;\">Rationale<a href=\"#rationale\" aria-label=\"rationale permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I have been trying to port some C++ project to Webassembly for the first time (I have worked on Assemblyscript and Rust projects for WASM, but this was my first time for C++). And I thought it would be fairly easy, like as easy as compiling Assemblyscript or Rust project into Webassembly. Why did I expect it to be easy? Since the advent of Webassembly, Emscripten has been the de facto smartest tool to compile C(++) into Webassembly, and it has been around for many years already. So I thought it would be extremely easy to compile it and import it into my Webpack-based project.</p>\n<p>But the answer was a big fat no. And this use-case is very poorly and fragmentedly documented across the web. So I started my own research as I always have done, and here’s the fruitful finding:</p>\n<h2 id=\"prior-art\" style=\"position:relative;\">Prior art<a href=\"#prior-art\" aria-label=\"prior art permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><a href=\"https://github.com/surma\">@surma</a> has addressed this issue in 2018, but the code was kinda outdated. There were lots of people like me, though, hopeless but looking for a solution. Here’s the gist that surma shared: <a href=\"https://gist.github.com/surma/b2705b6cca29357ebea1c9e6e15684cc\">https://gist.github.com/surma/b2705b6cca29357ebea1c9e6e15684cc</a></p>\n<h2 id=\"demo\" style=\"position:relative;\">Demo<a href=\"#demo\" aria-label=\"demo permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>First off, just look at the demo and confirm it’s working. lol.</p>\n<p><a href=\"https://9oelm.github.io/emscripten-cplusplus-webpack-example/\">https://9oelm.github.io/emscripten-cplusplus-webpack-example/</a></p>\n<h2 id=\"repo\" style=\"position:relative;\">Repo<a href=\"#repo\" aria-label=\"repo permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>And this is the repository that contains the entire elxample code, so pull it before reading next stuffs: <a href=\"https://github.com/9oelM/emscripten-cplusplus-webpack-example\">https://github.com/9oelM/emscripten-cplusplus-webpack-example</a></p>\n<p>Now, I will just write in order what needs to be exactly done.</p>\n<h2 id=\"init-project\" style=\"position:relative;\">Init project<a href=\"#init-project\" aria-label=\"init project permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I assume you already have installed / know <code class=\"language-text\">nvm</code>, so no explanation on this one.</p>\n<p>Run from project root:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">nvm use <span class=\"token comment\"># use appropriate node &amp; npm version as specified by .nvmrc</span>\n\n<span class=\"token function\">npm</span> i <span class=\"token comment\"># install deps for all packages, and link packages from each other under the monorepo setup</span></code></pre></div>\n<h2 id=\"compile-c-to-wasm-everything-done-inside-packagesexample-wasm\" style=\"position:relative;\">Compile C++ to .wasm (everything done inside <code class=\"language-text\">packages/example-wasm</code>)<a href=\"#compile-c-to-wasm-everything-done-inside-packagesexample-wasm\" aria-label=\"compile c to wasm everything done inside packagesexample wasm permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>First, you will need to build the dockerfile. You can use your own <code class=\"language-text\">em++</code> locally, but I personally find it the simplest to use docker container instead.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> packages/example-wasm \n\n$ <span class=\"token function\">ls</span>\nadd.cc            dockerutil.sh     fib.wasm          package-lock.json\nadd.h             fib.cc            index.d.ts        package.json\ncompile.sh        fib.h             index.js          tsconfig.json\ndockerfile        fib.js            node_modules\n\n$ <span class=\"token function\">chmod</span> u+x compile.sh dockerutil.sh <span class=\"token comment\"># grant shell scripts permission</span>\n\n$ ./dockerutil.sh <span class=\"token parameter variable\">-c</span> build <span class=\"token comment\"># download &amp; build docker image</span>\n<span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Building <span class=\"token number\">0</span>.8s <span class=\"token punctuation\">(</span><span class=\"token number\">8</span>/8<span class=\"token punctuation\">)</span> FINISHED                                             \n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build definition from Dockerfile                    <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring dockerfile: 154B                                    <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load .dockerignore                                       <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: 2B                                         <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load metadata <span class=\"token keyword\">for</span> docker.io/emscripten/emsdk:latest      <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> CACHED <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/4<span class=\"token punctuation\">]</span> FROM docker.io/emscripten/emsdk:latest                 <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/4<span class=\"token punctuation\">]</span> WORKDIR /etc/example-wasm                                     <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span>/4<span class=\"token punctuation\">]</span> RUN <span class=\"token function\">ls</span> <span class=\"token parameter variable\">-la</span>                                                    <span class=\"token number\">0</span>.3s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">4</span>/4<span class=\"token punctuation\">]</span> RUN <span class=\"token function\">which</span> em++                                                <span class=\"token number\">0</span>.3s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting to image                                                  <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting layers                                                 <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> writing image sha256:c4243b91ba65d543b6ace91d2ca6faf0bed700196f  <span class=\"token number\">0</span>.0s\n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> naming to docker.io/library/example-wasm                         <span class=\"token number\">0</span>.0s\n\nUse <span class=\"token string\">'docker scan'</span> to run Snyk tests against images to <span class=\"token function\">find</span> vulnerabilities and learn how to fix them</code></pre></div>\n<p>Then, review the code in <code class=\"language-text\">compile.sh</code> (important stuffs are written as comments in this file, so no alternative elaboration here):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># EXPORST_NAME means we can import from fib.js as follows:</span>\n<span class=\"token comment\"># import { fib } from './fib.js'</span>\n<span class=\"token comment\"># and fib will contain the module with webassembly</span>\n\n<span class=\"token comment\"># EXPORTED_FUNCTIONS is the list of functions</span>\n<span class=\"token comment\"># exported from C. Make sure you put them into extern \"C\" {} block in your c++ code. </span>\n<span class=\"token comment\"># Then simply prefix the functions you are going to export with an underscore, and add it to the list below</span>\n\n<span class=\"token comment\"># Uncomment -s \"FILESYSTEM=0\" if you don't need to use fs (i.e. use it on web entirely)</span>\n\n<span class=\"token comment\"># if you create more dependencies of fib.cc, simply add them to the end of the below command, like: -o ./fib.js fib.cc add.cc anotherdep.cc and_so_on.cc</span>\nem++ <span class=\"token parameter variable\">-O3</span> <span class=\"token parameter variable\">-s</span> <span class=\"token assign-left variable\">WASM</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token parameter variable\">-s</span> <span class=\"token assign-left variable\">EXPORTED_RUNTIME_METHODS</span><span class=\"token operator\">=</span><span class=\"token string\">'[\\\"cwrap\\\"]'</span> <span class=\"token parameter variable\">-s</span> <span class=\"token assign-left variable\">ALLOW_MEMORY_GROWTH</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token parameter variable\">-s</span> <span class=\"token assign-left variable\">MODULARIZE</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token parameter variable\">-s</span> <span class=\"token string\">'EXPORT_NAME=\"fib\"'</span> <span class=\"token parameter variable\">-s</span> <span class=\"token string\">'EXPORTED_FUNCTIONS=[\"_fib\"]'</span> <span class=\"token parameter variable\">-s</span> <span class=\"token string\">\"ENVIRONMENT='web'\"</span> <span class=\"token parameter variable\">-o</span> ./fib.js fib.cc add.cc\n    <span class=\"token comment\"># -s \"FILESYSTEM=0\"</span></code></pre></div>\n<p>Now, compile the C++ code using Emscripten in Docker:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ ./dockerutil.sh -c run</code></pre></div>\n<p>Then, you must be able to see <code class=\"language-text\">fib.js</code> and <code class=\"language-text\">fib.wasm</code> in the same directory.</p>\n<h2 id=\"glue-code\" style=\"position:relative;\">Glue code<a href=\"#glue-code\" aria-label=\"glue code permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>If you are looking at this repo, you probably struggled to integrate the output from the previous step into webpack configurations. As pointed out by @surma, you need some additional setup. And the things @surma pointed out in the past also have changed over time… so there needs to be some kind of glue code anyways. That is <code class=\"language-text\">packages/example-wasm/index.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> fib <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./fib.js\"</span>\n<span class=\"token keyword\">import</span> fibonacciModule <span class=\"token keyword\">from</span> <span class=\"token string\">\"./fib.wasm\"</span>\n\n<span class=\"token comment\">// Since webpack will change the name and potentially the path of the</span>\n<span class=\"token comment\">// `.wasm` file, we have to provide a `locateFile()` hook to redirect</span>\n<span class=\"token comment\">// to the appropriate URL.</span>\n<span class=\"token comment\">// More details: https://kripken.github.io/emscripten-site/docs/api_reference/module.html</span>\n<span class=\"token keyword\">const</span> wasm <span class=\"token operator\">=</span> <span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">locateFile</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">endsWith</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">.wasm</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> fibonacciModule\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> path\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> wasm</code></pre></div>\n<p>And here’s the type definition (Emscripten does not create one for you, so I created it myself, and you will need to too if you want):</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/* eslint-disable */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FibWasm</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">_fib</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> FibWasmPromise<span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>FibWasm<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> FibWasmPromise</code></pre></div>\n<p>So.. judging from above code, you can simply do something like:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> FibWasmPromise <span class=\"token keyword\">from</span> <span class=\"token string\">'./index.js'</span>\n\n<span class=\"token operator\">...</span> somewhere <span class=\"token keyword\">in</span> the code <span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">loadAndrunWasm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> fibWasm <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> FibWasmPromise\n\n  fibWasm<span class=\"token punctuation\">.</span><span class=\"token function\">_fib</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Right. But to be able to do this, we need some more work from Webpack side.</p>\n<h2 id=\"webpack-configuration-everything-done-inside-packagesexample-web\" style=\"position:relative;\">Webpack configuration (everything done inside <code class=\"language-text\">packages/example-web</code>)<a href=\"#webpack-configuration-everything-done-inside-packagesexample-web\" aria-label=\"webpack configuration everything done inside packagesexample web permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now, webpack natively supports importing wasm, but the problem is that the kind of wasm it supports is NOT the kind produced by emscripten. So what do we do?</p>\n<p>We put this in <code class=\"language-text\">module.rules</code> in webpack config:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">fib\\.js$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">loader</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">exports-loader</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">module</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">// this MUST be equivalent to EXPORT_NAME in packages/example-wasm/complile.sh</span>\n          <span class=\"token literal-property property\">exports</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">fib</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// wasm files should not be processed but just be emitted and we want</span>\n      <span class=\"token comment\">// to have their public URL.</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">fib\\.wasm$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">javascript/auto</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">loader</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">file-loader</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// options: {</span>\n        <span class=\"token comment\">// if you add this, wasm request path will be https://domain.com/publicpath/[hash].wasm</span>\n        <span class=\"token comment\">//   publicPath: `static/`,</span>\n        <span class=\"token comment\">// },</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>You need to use exports-loader because it seems that <code class=\"language-text\">fib.js</code> (output from <code class=\"language-text\">em++</code>) does not export <code class=\"language-text\">fib</code> for whatever reason. You will get this error if you comment out <code class=\"language-text\">exports-loader</code> part:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eb3827a0d782402b587eedeafbbaf162/e4611/doc1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACiElEQVQ4y42SWW8bNxRGJ0AAwbEcubIsj2RLM1pn52yafUaLYxQtnNZ1HANJi/ah//8/nGIot3He+nDwEeTl4SVBpd4eSLIST0QkWUVV70nzCj/Y4Lg+hulgmg6W7bIyPT4UJtu6IC93lPWOME4Rfoxle5iWi5LlFUm+pcxCmiImyWrSrCQvG5K0IAg3RHGKbXusjKOwLjPSvDnWtLVFwyYpsB2B0p4iwpw6czg0EWHWkFVb4qwkKWrSssELYkxHYNgCITy8IML1Y0S4wRERjgglhu2htOa0qAlsl8oPqTcZmR+RiYDEC0hEiLA9PNMhdIRMfXTDbHxkMdFYTjSctUUSxCjt+6xtj+B6wu27d3y8HPCsqjwNh/x6cSHzp16Pu7Mzqk6Hw/k5t5cD9v0+HwYXFJ0OtqIQd89I3vdQLMvFcn1MdYyhKGy7ZzyoKg+axtN8zqOm8dkw+DNN+SOOefJ9bm9uyPt9in5fykxFkXtbpNB0fezRNZaiUHe7fLy64kHXeZjNeNR1PhkGX4TgdyH4RdPIOx2ittvJhN14zG40wnv7VooV86VD60XYdLvcX15K4eNyyefVimfH4a+m4e+7O57jmOpiIDdbb97IlOMXvnWojuXC7vSUL+s1X02T37Qp+5MTipMTftQ07tdrfl4uSE9PWb2SWK+vLDt0BOZ0hjcYsjcs7quax8Mtd9EGd6gSXk8QQxX/aiTTG6pE1zeYP/RZve9h9M4J1LFcPwrlp7URcUreHAjiDC/cIKKUIMlJyi1p1bIjq/e4wQbDEczXFvrSYLYyibJS1v4nXJsumrZA0+Zo+uIb2pzpdHacb8f/5nSGri++Z7Z8JTRsKWgn/y/fHfzCP7NefwtEoga/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"doc1.png\"\n        title=\"doc1.png\"\n        src=\"/static/eb3827a0d782402b587eedeafbbaf162/fcda8/doc1.png\"\n        srcset=\"/static/eb3827a0d782402b587eedeafbbaf162/12f09/doc1.png 148w,\n/static/eb3827a0d782402b587eedeafbbaf162/e4a3f/doc1.png 295w,\n/static/eb3827a0d782402b587eedeafbbaf162/fcda8/doc1.png 590w,\n/static/eb3827a0d782402b587eedeafbbaf162/efc66/doc1.png 885w,\n/static/eb3827a0d782402b587eedeafbbaf162/c83ae/doc1.png 1180w,\n/static/eb3827a0d782402b587eedeafbbaf162/e4611/doc1.png 1298w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Now, I mentioned that Webpack supports importing wasm out of the box, and that makes this thing not work. So we are just going to tell Webpack to import wasm without any processing. That is what <code class=\"language-text\">file-loader</code> is doing below <code class=\"language-text\">exports-loader</code>.</p>\n<p>After you launch webpack dev server, you will be able to see your wasm being requested as <code class=\"language-text\">https://localhost:8080/[hash].wasm</code>.</p>\n<p>And don’t forget to include <code class=\"language-text\">@emscripten-cplusplus-webpack-example/example-wasm</code> as a dependency in <code class=\"language-text\">packages/example-web/package.json</code> (it is already there, but you will need to do it yourself for your project)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"dependencies\": {\n    \"axios\": \"^0.24.0\",\n    \"lodash.flow\": \"^3.5.0\",\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\",\n    \"@emscripten-cplusplus-webpack-example/example-wasm\": \"*\"\n  }</code></pre></div>\n<h2 id=\"import-it-and-rock\" style=\"position:relative;\"><code class=\"language-text\">import</code> it and rock<a href=\"#import-it-and-rock\" aria-label=\"import it and rock permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now, just import it, <code class=\"language-text\">await</code> the promise and use it. Ah, and if you are curious about Pure and Impure parts, it’s another huge topic… to be explained for effective React. I won’t explain it here. Just look at how wasm gets imported and used.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">FC</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> enhance <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../utilities/essentials\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ExampleFallback <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./fallback\"</span>\n<span class=\"token keyword\">import</span> fibWasmPromise <span class=\"token keyword\">from</span> <span class=\"token string\">\"@emscripten-cplusplus-webpack-example/example-wasm\"</span>\n\n<span class=\"token comment\">// eslint-disable-next-line @typescript-eslint/ban-types</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">ExampleImpureProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> ExampleImpure<span class=\"token operator\">:</span> <span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>ExampleImpureProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span>\n  <span class=\"token generic-function\"><span class=\"token function\">enhance</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>ExampleImpureProps<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>fibResult<span class=\"token punctuation\">,</span> setFibResult<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">loadAndRunFibWasm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> fibWasm <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> fibWasmPromise\n        <span class=\"token function\">setFibResult</span><span class=\"token punctuation\">(</span>fibWasm<span class=\"token punctuation\">.</span><span class=\"token function\">_fib</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">loadAndRunFibWasm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>ExamplePure\n        <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">{</span>\n          fibResult<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>ExampleFallback<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// eslint-disable-next-line @typescript-eslint/ban-types</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">ExamplePureProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  fibResult<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> ExamplePure<span class=\"token operator\">:</span> <span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>ExamplePureProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">enhance</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>ExamplePureProps<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> fibResult <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>fibResult<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">case</span> <span class=\"token keyword\">null</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> loading<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">}</span>\n          <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token function\">fib</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>fibResult<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>ExampleFallback<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Then.. IT WORKS!!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2f4aee501f8a71832abe7bfba2b832a3/f43e4/doc0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9UlEQVQY05XOUWvCMBSG4cAU9GZt0lQZa5vERtOm0+oqg7nt//+sd7TgcF5tFw8fnI9zOGKxWJDnOVprlFJIKUmSxynn8znL5ZKmbRmGgb7vsdZOnLMYYwghkKYJs9kDQgiEs3Yaeu/ZbrdY66hrzy40FEVJWRkO/ZFhOHN6HYix+9G2HftDT1VZtM6RMkOMRWgaYtcRQkMbX3i/fHL5+GI4vxG7PZVxlJWb0tjNjZrKbHAbT+131D4g2thxPJ1o2jh9kOUrEqlIpUKqDKVz9Gp9Y3VnPe1ciafngtJYxiwq86scqZHO/0zITJOqjGuOw/uj//ENwhOecaxgpTQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"doc0.png\"\n        title=\"doc0.png\"\n        src=\"/static/2f4aee501f8a71832abe7bfba2b832a3/fcda8/doc0.png\"\n        srcset=\"/static/2f4aee501f8a71832abe7bfba2b832a3/12f09/doc0.png 148w,\n/static/2f4aee501f8a71832abe7bfba2b832a3/e4a3f/doc0.png 295w,\n/static/2f4aee501f8a71832abe7bfba2b832a3/fcda8/doc0.png 590w,\n/static/2f4aee501f8a71832abe7bfba2b832a3/efc66/doc0.png 885w,\n/static/2f4aee501f8a71832abe7bfba2b832a3/f43e4/doc0.png 1120w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"references\" style=\"position:relative;\">References<a href=\"#references\" aria-label=\"references permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ul>\n<li><a href=\"https://github.com/PetterS/clang-wasm\">https://github.com/PetterS/clang-wasm</a></li>\n<li><a href=\"https://towardsdev.com/lets-export-the-c-library-to-javascript-wasm-library-part-a-4b99c9a7cf2\">https://towardsdev.com/lets-export-the-c-library-to-javascript-wasm-library-part-a-4b99c9a7cf2</a></li>\n<li><a href=\"https://emscripten.org/docs/porting/files/file_systems_overview.html#file-system-overview\">https://emscripten.org/docs/porting/files/file_systems_overview.html#file-system-overview</a></li>\n<li><a href=\"https://github.com/webpack/webpack/issues/7352\">https://github.com/webpack/webpack/issues/7352</a></li>\n<li><a href=\"https://gist.github.com/surma/b2705b6cca29357ebea1c9e6e15684cc\">https://gist.github.com/surma/b2705b6cca29357ebea1c9e6e15684cc</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly/existing_C_to_wasm\">https://developer.mozilla.org/en-US/docs/WebAssembly/existing_C_to_wasm</a></li>\n<li><a href=\"https://github.com/emscripten-core/emscripten/issues/10224\">https://github.com/emscripten-core/emscripten/issues/10224</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8249945/what-is-object-in-object-file-and-why-is-it-called-this-way\">https://stackoverflow.com/questions/8249945/what-is-object-in-object-file-and-why-is-it-called-this-way</a></li>\n</ul>","frontmatter":{"title":"How to compile C++ code into Webassembly with Emscripten + Docker and use it in Webpack + Typescript + React project","date":"May 09, 2022","keywords":["webassembly","emscripten","webpack"]},"fields":{"readingTime":{"text":"7 min read"}}}},"pageContext":{"slug":"/2022-05-10-How-to-compile-C++-code-into-Webassembly-with-Emscripten-and-use-it-in-Webpack-+-Typescript-+-React-project/","previous":{"fields":{"slug":"/2022-02-20-평균의-종말-완전-요약-및-감상평/","readingTime":{"text":"64 min read"}},"frontmatter":{"title":"<평균의 종말> 완전 요약 및 감상평 (12 / 100)","tab":"post","tags":["books"],"keywords":["평균의 종말","책","독후감","감상평","요약"]}},"next":{"fields":{"slug":"/2022-05-13-RISC-V-Simulator-On-The-Web/","readingTime":{"text":"13 min read"}},"frontmatter":{"title":"Practical Emscripten & Webassembly: Simple RISC-V Simulator on the web","tab":"post","tags":["webassembly","risc-v","emscripten","javascript"],"keywords":["webassembly","risc-v","emulator","simulator","web"]}}}},"staticQueryHashes":["3128451518","426816048"]}