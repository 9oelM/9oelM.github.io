{"data":{"site":{"siteMetadata":{"title":"Joel's dev blog","author":"Joel Mun","siteUrl":"https://9oelm.github.io"}},"markdownRemark":{"id":"c0a0fe75-2db5-5426-b9e1-29fe08ab1ac9","excerpt":"If you are new and are looking for basic prevention of re-render due to changes of  , please take a look at the previous article:  Making Stupid React Smart in…","html":"<p><em>If you are new and are looking for basic prevention of re-render due to changes of <code class=\"language-text\">props</code>, please take a look at the previous article: <a href=\"https://medium.com/swlh/making-stupid-react-smart-in-re-rendering-5f04b5bab327\">Making Stupid React Smart in Re-rendering</a></em>.</p>\n<h1>Defining the problem</h1>\n<p>When the component trees are shallow and the architecture of your React project is simple, there are hardly any problems. The real problem comes when you have hundreds of nested components like this (taken from one of the pages on Medium):</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5a5cf2c361329f80bbbf70d3b978a38c/87928/tree.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 415px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 418.7951807228916%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"component tree\"\n        title=\"\"\n        src=\"/static/5a5cf2c361329f80bbbf70d3b978a38c/87928/tree.png\"\n        srcset=\"/static/5a5cf2c361329f80bbbf70d3b978a38c/e9800/tree.png 148w,\n/static/5a5cf2c361329f80bbbf70d3b978a38c/14e31/tree.png 295w,\n/static/5a5cf2c361329f80bbbf70d3b978a38c/87928/tree.png 415w\"\n        sizes=\"(max-width: 415px) 100vw, 415px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Then you would have to start thinking about optimizing re-renders, because re-renders are costly if you have many costly logics that need to be calculated over and over.</p>\n<p>Problems with re-render due to a change detected in <code class=\"language-text\">props</code> could be easily resolved by using some simple methods as covered in the previous article: <a href=\"https://medium.com/swlh/making-stupid-react-smart-in-re-rendering-5f04b5bab327\">Making Stupid React Smart in Re-rendering</a>. But what makes using global state such as Redux so different from simple prop changes that incur re-renders?</p>\n<h1>Illustration of the problem</h1>\n<h2>A very simple example to make it slow</h2>\n<p>I created a simple combination of React components that render quite slowly:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">const</span> itemStyle <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  backgroundColor<span class=\"token punctuation\">:</span> <span class=\"token string\">'grey'</span><span class=\"token punctuation\">,</span>\n  width<span class=\"token punctuation\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\n  height<span class=\"token punctuation\">:</span> <span class=\"token string\">'20px'</span><span class=\"token punctuation\">,</span>\n  marginBottom<span class=\"token punctuation\">:</span> <span class=\"token string\">'2px'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Item</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> number <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>article style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>itemStyle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>number<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> longListStyle <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  backgroundColor<span class=\"token punctuation\">:</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span>\n  marginTop<span class=\"token punctuation\">:</span> <span class=\"token string\">'1000px'</span><span class=\"token punctuation\">,</span>\n  padding<span class=\"token punctuation\">:</span> <span class=\"token string\">'5px'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> buttonStyle <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  position<span class=\"token punctuation\">:</span> <span class=\"token string\">'fixed'</span><span class=\"token punctuation\">,</span>\n  top<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n  right<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n  width<span class=\"token punctuation\">:</span> <span class=\"token string\">'100px'</span><span class=\"token punctuation\">,</span>\n  height<span class=\"token punctuation\">:</span> <span class=\"token string\">'100px'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">generateRandomString</span><span class=\"token punctuation\">(</span>length<span class=\"token punctuation\">,</span> chars<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">--</span>i<span class=\"token punctuation\">)</span> result <span class=\"token operator\">+=</span> chars<span class=\"token punctuation\">[</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> chars<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">generateManyRandomThings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Array<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">4500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0.5</span> <span class=\"token operator\">?</span> \n            <span class=\"token function\">generateRandomString</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> \n            Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">100000</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> \n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">LongList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>clickCount<span class=\"token punctuation\">,</span> setClickCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>randomThings<span class=\"token punctuation\">,</span> setRandomThings<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">generateManyRandomThings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setClickCount</span><span class=\"token punctuation\">(</span>clickCount <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setRandomThings</span><span class=\"token punctuation\">(</span><span class=\"token function\">generateManyRandomThings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>button style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>buttonStyle<span class=\"token punctuation\">}</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleClick<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token string\">`reload (clickCount: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>clickCount<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>section style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>longListStyle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>randomThings<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>Item key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token string\">`item-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>idx<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">}</span> number<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>num<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>section<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And it’s showing me this, which is full of 4500 rows of <code class=\"language-text\">&lt;Item /&gt;</code>s:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ad885cad6e07eba81bcef4015acdac3e/7911a/slow-example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 23.789692868297763%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAnElEQVQY02P4DwT//v37jwz+/PkDprfu2/w/Ijnsf3Zx5v/47Jj/F66dg8j/hciD9MH0fv78+f+3b9/+M+AzcMveTf/DE0P/ZxVl/E/Mjft/8fp5nAa+f//+/9evX/EbuHUfyMCQ/4WV+f8zSlIwXAgDMP1///4l7MKIJIgL47Ki/5+/it3LMP0gffhdCPVyWl7K/5iMSKwuRDcQAMziaxaY9jWhAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"slow render example\"\n        title=\"\"\n        src=\"/static/ad885cad6e07eba81bcef4015acdac3e/40fad/slow-example.png\"\n        srcset=\"/static/ad885cad6e07eba81bcef4015acdac3e/707e9/slow-example.png 148w,\n/static/ad885cad6e07eba81bcef4015acdac3e/649e0/slow-example.png 295w,\n/static/ad885cad6e07eba81bcef4015acdac3e/40fad/slow-example.png 590w,\n/static/ad885cad6e07eba81bcef4015acdac3e/b3fef/slow-example.png 885w,\n/static/ad885cad6e07eba81bcef4015acdac3e/301c0/slow-example.png 1180w,\n/static/ad885cad6e07eba81bcef4015acdac3e/b5a53/slow-example.png 1770w,\n/static/ad885cad6e07eba81bcef4015acdac3e/7911a/slow-example.png 1921w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>Finding which part is slow</h2>\n<h3>Prerequisites</h3>\n<ul>\n<li>Go to <code class=\"language-text\">performance</code> tab, and select any of 2x, 4x or 6x slowdown from <code class=\"language-text\">CPU</code> tab to make performance issue even more palpable in Chrome developer tools.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bbcf5a79af02eb81d0cd082e98ac006c/81265/perf-0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 19.827586206896548%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAx0lEQVQY022NS27CQBBEfRNL2GbGnk/PHxwiEaIIATdgzZ6rcOSibbNAIounUnVXd1W/f0dYFxDzBs4nxMQaMnxkHEEpjUEZlO1u3hFnLbnlhv1gCKQJ3kdol1AdTxekMiJvvpDyFoYClPGQg4G1BG0c+4VpF8s30riHogzRa/TKQk5wXipCtf85zI0+RG4JcM6D2AvZoxMS6zeElNhdbrjeHxjPN7Tdes4J0b9UoiqloK5rNE2DZrValGnb9pPXfDrs+Nl/mSctrHsx/b/vqQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Go to `performance` tab, and select any of 2x, 4x or 6x slowdown from `CPU` tab\"\n        title=\"\"\n        src=\"/static/bbcf5a79af02eb81d0cd082e98ac006c/40fad/perf-0.png\"\n        srcset=\"/static/bbcf5a79af02eb81d0cd082e98ac006c/707e9/perf-0.png 148w,\n/static/bbcf5a79af02eb81d0cd082e98ac006c/649e0/perf-0.png 295w,\n/static/bbcf5a79af02eb81d0cd082e98ac006c/40fad/perf-0.png 590w,\n/static/bbcf5a79af02eb81d0cd082e98ac006c/b3fef/perf-0.png 885w,\n/static/bbcf5a79af02eb81d0cd082e98ac006c/81265/perf-0.png 928w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n<li>Install <a href=\"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en\">React devtools</a></li>\n<li>Disable all Chrome extensions except React Devtools\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1852a9b51ebf9577b96ba10cdd5854c6/ab5f6/disable-all.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 203px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 19.21182266009852%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAABDUlEQVQY0z2QSUoDURCG+yIxQU3Pw+s39RRaiRkcSJSE4AHESLyAi9DgAQIBN24Elwo5ghtzAu/hJf6ULWRRFI/631f/X4Zl+7AcH6bt4bjtwPUiSJ1DqAxRrMBlWr9DJhFGErHQOB/c4HZyh1jqvZZTZcUJjGbrCI1GCxYBJ9MZTIugPkOn7GK9fsHl1TUtDPDxucGyqtA2Nb7ft/jd/mA8WIBJjtF4WkOTtPMPPGgektBBrz+sexAJpHmJ+cMjytNe7W5ZPeN+voDtK7w+veFrtUG3nJEzheHFCIKcKp3BCOlzyARBOGw3BKOYUhf1RjeIKWIClRRw6BRewGmWIuIFmDijyHKv/Sud5NgBEHKL80SVF9MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Disable all\"\n        title=\"\"\n        src=\"/static/1852a9b51ebf9577b96ba10cdd5854c6/ab5f6/disable-all.png\"\n        srcset=\"/static/1852a9b51ebf9577b96ba10cdd5854c6/d001a/disable-all.png 148w,\n/static/1852a9b51ebf9577b96ba10cdd5854c6/ab5f6/disable-all.png 203w\"\n        sizes=\"(max-width: 203px) 100vw, 203px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h3>Using Chrome’s ‘Performance’ tab</h3>\n<p>Most important things to know:</p>\n<ol>\n<li>The ‘red’ part</li>\n</ol>\n<h2>Making the slow part fast: Redux-wise (may include usage of <code class=\"language-text\">Context</code> for some cases)</h2>\n<ol start=\"2\">\n<li>\n<p>‘Timings’ tab</p>\n</li>\n<li>\n<p>‘Main’ tab</p>\n</li>\n<li>\n<p>‘Frames’ tab</p>\n</li>\n<li>\n<p>Use <code class=\"language-text\">useSelector</code> in a better way</p>\n</li>\n<li>\n<p>Batch multiple actions into one action that triggers one update</p>\n</li>\n</ol>\n<h2>Making the slow part fast: React-wise</h2>\n<h1>More resources</h1>\n<ul>\n<li>\n<p><a href=\"https://reactjs.org/docs/optimizing-performance.html#profiling-components-with-the-chrome-performance-tab\">React official docs: Optimizing performance</a></p>\n</li>\n<li>\n<p><a href=\"https://calibreapp.com/blog/react-performance-profiling-optimization\">Profiling React Performance with React 16 and Chrome DevTools.</a></p>\n</li>\n<li>\n<p><a href=\"https://developers.google.com/web/updates/2015/03/devtools-timeline-now-providing-the-full-story\">Paint op</a></p>\n</li>\n<li>\n<p><a href=\"https://scotch.io/courses/10-web-performance-audit-tips-for-your-next-billion-users-in-2018/fmp-first-meaningful-paint#:~:text=Coined%20by%20Google%2C%20First%20Meaningful,to%20appear%20on%20the%20screen.&#x26;text=First%20Contentful%20Paint%20is%20the,painted%20for%20the%20first%20time.\">FMP: First Meaningful Paint</a></p>\n</li>\n<li>\n<p><a href=\"https://web.dev/cls/\">Layout shift</a></p>\n</li>\n</ul>","frontmatter":{"title":"More adventures in making stupid react smart in re-rendering under global state","date":"July 26, 2020"}}},"pageContext":{"slug":"/2020-07-26--More-adventures-in-preventing-re-render-with-global-state-in-React/","previous":{"fields":{"slug":"/2020-07-05--100BooksProject-(4):Ego-is-the-enemy-(에고라는-적)/"},"frontmatter":{"title":"100BooksProject: (4): Ego is the enemy (에고라는 적)"}},"next":{"fields":{"slug":"/2020-07-29--100BooksProject-(5):초격차(The-Great-Gap)/"},"frontmatter":{"title":"100BooksProject: (5): 초격차 (The Great Gap)"}}}}