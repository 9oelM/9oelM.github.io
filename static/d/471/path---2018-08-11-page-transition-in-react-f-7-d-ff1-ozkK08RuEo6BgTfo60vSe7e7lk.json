{"data":{"site":{"siteMetadata":{"title":"Joel's dev blog","author":"Joel Mun","siteUrl":"https://9oelm.github.io"}},"markdownRemark":{"id":"f09e1a84-3509-54bb-ba04-57e6219fafe6","excerpt":"I always wondered how this sleek transition effects work in React and Native apps, so this is now a chance to find something out.  Resources Articles for…","html":"<p>I always wondered how this sleek transition effects work in React and Native apps, so this is now a chance to find something out. </p>\n<h1>Resources</h1>\n<h2>Articles for transition</h2>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/react-router-page-transition\">react-router-page-transition</a></li>\n<li><a href=\"https://medium.com/@agm1984/how-to-manage-page-transition-animations-in-react-ba09c66655c6\">How to manage page transition animations in React and GSAP</a></li>\n<li><a href=\"https://code.tutsplus.com/tutorials/single-page-react-applications-with-react-router-and-react-transition-group-modules--cms-24507?ec_unit=translation-info-language\">Single-Page React Applications With the React-Router and React-Transition-Group Modules</a></li>\n<li><a href=\"https://greensock.com/get-started-js\">GSAP Homepage</a></li>\n<li><a href=\"https://blog.etch.team/react-page-transitions-make-your-website-feel-native-bf2804b011dc\">Make your web app feel native with React page transitions</a></li>\n</ul>\n<h2>Examples</h2>\n<ul>\n<li><a href=\"https://stackblitz.com/edit/react-49vg63\">Working example for above post</a></li>\n<li><a href=\"https://codepen.io/sdras/pen/gWWQgb\">Another cool example with some great transition effect</a></li>\n<li><a href=\"https://codesandbox.io/s/qqxj18wj9\">Simple page transition example</a></li>\n</ul>\n<h2>Articles for routing</h2>\n<ul>\n<li><a href=\"https://medium.com/@anneeb/redirecting-in-react-4de5e517354a\">redirecting in react</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34735580/how-to-do-a-redirect-to-another-route-with-react-router\">statckoverflow post on redirecting on react</a></li>\n<li><a href=\"https://tylermcginnis.com/react-router-programmatically-navigate/\">programmatically navigate in react-router</a></li>\n</ul>\n<h1>Get things ready</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save react-transition-group@^1 react-router-dom^4 </code></pre></div>\n<p>Install <code class=\"language-text\">react-transition-group</code> of version ^1.0 and <code class=\"language-text\">react-router</code> of version ^4. </p>\n<h1>Route it</h1>\n<p>Use react router to determine routes.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// layout</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'./layout/default'</span>\n\n<span class=\"token comment\">// pages</span>\n\n<span class=\"token keyword\">import</span> Home <span class=\"token keyword\">from</span> <span class=\"token string\">'./pages/Home'</span>\n<span class=\"token keyword\">import</span> SearchResultView <span class=\"token keyword\">from</span> <span class=\"token string\">'./pages/SearchResultView'</span>\n<span class=\"token keyword\">import</span> VideoPlayerView <span class=\"token keyword\">from</span> <span class=\"token string\">'./pages/VideoPlayerView'</span>\n\n<span class=\"token comment\">// react</span>\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> Fragment <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Route <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n\n<span class=\"token comment\">// styles</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'typeface-roboto'</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./styles/output/master.css'</span>\n<span class=\"token keyword\">import</span> CssBaseline <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/CssBaseline'</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./modules/resize'</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Fragment<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Layout<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>CssBaseline <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>Home<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/searchResultView\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>SearchResultView<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/videoPlayerView\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>VideoPlayerView<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Fragment<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App</code></pre></div>\n<h1>Wrap it with <code class=\"language-text\">BrowserRouter</code></h1>\n<p><code class=\"language-text\">index.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span>\n<span class=\"token keyword\">import</span> registerServiceWorker <span class=\"token keyword\">from</span> <span class=\"token string\">'./registerServiceWorker'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AppContainer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-hot-loader'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span>\n<span class=\"token keyword\">import</span> store <span class=\"token keyword\">from</span> <span class=\"token string\">'./store/index'</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">render</span> <span class=\"token operator\">=</span> Component <span class=\"token operator\">=></span>\n  ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>AppContainer<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>BrowserRouter<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>BrowserRouter<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AppContainer<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token function\">registerServiceWorker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Webpack Hot Module Replacement API</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">.</span>hot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  module<span class=\"token punctuation\">.</span>hot<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./App'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>Specify the redirect action on event</h1>\n<p>First you are going to need <code class=\"language-text\">withRouter</code> from <code class=\"language-text\">react-router-dom</code>,\nand then create a handler that would push the path you specify newly into the history object. </p>\n<blockquote>\n<p>“Under the hood it’s what’s keeping track of session history for React Router. When a component is rendered by React Router, that component is passed three different props: location, match, and history. This history prop comes from the History library and has a ton of fancy properties on it related to routing. In this case, the one we’re interested is history.push. What it does is it pushes a new entry onto the history stack - aka redirecting the user to another route.” - from <a href=\"https://tylermcginnis.com/react-router-programmatically-navigate/\">tylermcginnis.com</a></p>\n</blockquote>\n<p>and then export the component, wrapping it with <code class=\"language-text\">withRouter</code>. </p>\n<p>Then what will hapen is that when the search results are up, the component will trigger page redirection to <code class=\"language-text\">/searchResultView</code>.</p>\n<p><code class=\"language-text\">TopNav.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">'prop-types'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> withStyles<span class=\"token punctuation\">,</span> createMuiTheme <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/styles'</span>\n<span class=\"token keyword\">import</span> AppBar <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/AppBar'</span>\n<span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/Toolbar'</span>\n<span class=\"token keyword\">import</span> IconButton <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/IconButton'</span>\n<span class=\"token keyword\">import</span> MenuIcon <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/icons/Menu'</span>\n<span class=\"token keyword\">import</span> YoutubeAutocomplete <span class=\"token keyword\">from</span> <span class=\"token string\">'new-material-react-youtube-autocomplete'</span>\n<span class=\"token keyword\">import</span> Drawer <span class=\"token keyword\">from</span> <span class=\"token string\">'../Drawer/Drawer'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> withRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n\n<span class=\"token keyword\">const</span> styles <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  root<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    flexGrow<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  flex<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    flex<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  menuButton<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    marginLeft<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TopNav</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//@@@@@@@@@@@@@@@@@@@ here</span>\n  <span class=\"token function-variable function\">handleRedirection</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/searchResultView'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n      classes<span class=\"token punctuation\">,</span>\n      onToggle<span class=\"token punctuation\">,</span>\n      isDrawerOpen<span class=\"token punctuation\">,</span>\n      onSearchTrigger<span class=\"token punctuation\">,</span>\n      onSearchResults<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">}</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"TopNav\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Drawer isDrawerOpen<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>isDrawerOpen<span class=\"token punctuation\">}</span> onToggle<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onToggle<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>AppBar position<span class=\"token operator\">=</span><span class=\"token string\">\"static\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Toolbar<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>IconButton\n              className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>menuButton<span class=\"token punctuation\">}</span>\n              color<span class=\"token operator\">=</span><span class=\"token string\">\"inherit\"</span>\n              aria<span class=\"token operator\">-</span>label<span class=\"token operator\">=</span><span class=\"token string\">\"Menu\"</span>\n              onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onToggle<span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>MenuIcon <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>IconButton<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>YoutubeAutocomplete\n              option<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n                key<span class=\"token punctuation\">:</span> <span class=\"token string\">'AIzaSyB8R4Bqkx25_-c58L7v1QaLReVw1FWea28'</span><span class=\"token punctuation\">,</span>\n                type<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'video'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'playist'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                maxResults<span class=\"token punctuation\">:</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n              placeholderText<span class=\"token operator\">=</span><span class=\"token string\">\"Search youtube\"</span>\n              onSearchResults<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>results <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">onSearchResults</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span>\n                <span class=\"token comment\">//@@@@@@@@@@@@@@@@@@@ and here</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleRedirection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n              onSearchTrigger<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>searchWord <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">onSearchTrigger</span><span class=\"token punctuation\">(</span>searchWord<span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Toolbar<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AppBar<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nTopNav<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  classes<span class=\"token punctuation\">:</span> PropTypes<span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//@@@@@@@@@@@@@@@@@@@ and finally here</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withStyles</span><span class=\"token punctuation\">(</span>styles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token function\">withRouter</span><span class=\"token punctuation\">(</span>TopNav<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Page transition in React","date":"August 11, 2018"}}},"pageContext":{"slug":"/2018-08-11--Page-transition-in-React/","previous":{"fields":{"slug":"/2018-07-29--Using-redux-thunk/"},"frontmatter":{"title":"Using redux-thunk"}},"next":{"fields":{"slug":"/2018-09-05--Async-and-await/"},"frontmatter":{"title":"Async, await, promise"}}}}