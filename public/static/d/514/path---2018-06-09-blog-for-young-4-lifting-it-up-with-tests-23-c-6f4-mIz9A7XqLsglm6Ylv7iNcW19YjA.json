{"data":{"site":{"siteMetadata":{"title":"Joel's dev blog","author":"Kyle Mathews"}},"markdownRemark":{"id":"4ee055e1-b5e5-5587-a090-818a101b58b8","excerpt":"Adding eslint to webpack There’s an   for webpack. First, install eslint: then eslint-loader: Reference look at  this issue on github . \nOne of the replies to…","html":"<h2>Adding eslint to webpack</h2>\n<p>There’s an <a href=\"https://github.com/webpack-contrib/eslint-loader\"><code class=\"language-text\">eslint-loader</code></a> for webpack.</p>\n<p>First, install eslint:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install eslint --save-dev</code></pre></div>\n<p>then eslint-loader:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install eslint-loader --save-dev</code></pre></div>\n<h3>Reference</h3>\n<p>look at <a href=\"https://github.com/zeit/next.js/issues/2184\">this issue on github</a>.\nOne of the replies to the issue provided the code!</p>\n<h3>Use the code in <code class=\"language-text\">next.config.js</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> withCss <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@zeit/next-css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//  just in case if you use css</span>\n<span class=\"token keyword\">const</span> withSass <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@zeit/next-sass'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> webpack <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>assocPath<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ramda'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token function\">withSass</span><span class=\"token punctuation\">(</span><span class=\"token function\">withCss</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> \n    webpack<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> dev <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> eslintRule <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      test<span class=\"token punctuation\">:</span> <span class=\"token regex\">/\\.js$/</span><span class=\"token punctuation\">,</span>\n      enforce<span class=\"token punctuation\">:</span> <span class=\"token string\">'pre'</span><span class=\"token punctuation\">,</span>\n      exclude<span class=\"token punctuation\">:</span> <span class=\"token regex\">/node_modules/</span><span class=\"token punctuation\">,</span>\n      loader<span class=\"token punctuation\">:</span> <span class=\"token string\">'eslint-loader'</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Emit errors as warnings for dev to not break webpack build.</span>\n        <span class=\"token comment\">// Eslint errors are shown in console for dev, yay :-)</span>\n        emitWarning<span class=\"token punctuation\">:</span> dev<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> rules <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>eslintRule<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">.</span>module<span class=\"token punctuation\">.</span>rules<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">assocPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'module'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rules'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> rules<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>and before that, since the code uses <code class=\"language-text\">ramda</code>, install it:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save-dev ramda</code></pre></div>\n<p>Then run <code class=\"language-text\">npm dev run</code>. Then you see the output from eslint:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">j031:~/workspace (add1-eslint) $ npm run dev\n\n&gt; young-blog@1.0.0 dev /home/ubuntu/workspace\n&gt; next -p 8080\n\n\n\n WARNING  Compiled with 2 warnings                                                                                                                                                                                              3:32:08 AM\n\n\n/home/ubuntu/workspace/pages/_document.js\n   1:8   error  &#39;React&#39; is defined but never used                   no-unused-vars\n   2:8   error  &#39;ReactDOM&#39; is defined but never used                no-unused-vars\n   3:20  error  &#39;Head&#39; is defined but never used                    no-unused-vars\n   3:26  error  &#39;Main&#39; is defined but never used                    no-unused-vars\n   3:32  error  &#39;NextScript&#39; is defined but never used              no-unused-vars\n   3:50  error  Strings must use doublequote                        quotes\n   4:30  error  Missing semicolon                                   semi\n   7:1   error  Expected indentation of 1 tab but found 2 spaces    indent\n   8:1   error  Expected indentation of 2 tabs but found 4 spaces   indent\n   9:1   error  Expected indentation of 3 tabs but found 6 spaces   indent\n  10:1   error  Expected indentation of 4 tabs but found 8 spaces   indent\n  11:1   error  Expected indentation of 4 tabs but found 8 spaces   indent\n  14:1   error  Expected indentation of 5 tabs but found 10 spaces  indent\n  15:1   error  Expected indentation of 5 tabs but found 10 spaces  indent\n  16:1   error  Expected indentation of 5 tabs but found 10 spaces  indent\n  17:1   error  Expected indentation of 5 tabs but found 10 spaces  indent\n  18:1   error  Expected indentation of 5 tabs but found 10 spaces  indent\n  19:1   error  Expected indentation of 4 tabs but found 8 spaces   indent\n  21:1   error  Expected indentation of 4 tabs but found 8 spaces   indent\n  22:1   error  Expected indentation of 5 tabs but found 10 spaces  indent\n  23:1   error  Expected indentation of 5 tabs but found 10 spaces  indent\n  25:1   error  Expected indentation of 4 tabs but found 8 spaces   indent\n  26:1   error  Expected indentation of 3 tabs but found 6 spaces   indent\n  27:1   error  Expected indentation of 2 tabs but found 4 spaces   indent\n  27:6   error  Missing semicolon                                   semi\n  28:1   error  Expected indentation of 1 tab but found 2 spaces    indent\n\n✖ 26 problems (26 errors, 0 warnings)\n  21 errors, 0 warnings potentially fixable with the `--fix` option.\n\n\n\n/home/ubuntu/workspace/pages/_error.js\n  6:16  error  Parsing error: Unexpected token getInitialProps\n\n✖ 1 problem (1 error, 0 warnings)\n\n\nYou may use special comments to disable some warnings.\nUse // eslint-disable-next-line to ignore the next line.\nUse /* eslint-disable */ to ignore all warnings in a file.\n&gt; Ready on http://localhost:8080</code></pre></div>\n<p>Yay!</p>\n<h2>Testing with Jest &#x26; Enzyme</h2>\n<h3>References</h3>\n<p>Again, helpful articles.</p>\n<ul>\n<li><a href=\"https://www.zerocho.com/category/React/post/583231469a87ec001834a0ec\">Zerocho</a></li>\n</ul>","frontmatter":{"title":"Blog for Young (3): Lifting it up with tests","date":"June 09, 2018","description":null}}},"pageContext":{"slug":"/2018-06-09--Blog-for-Young-(4):-Lifting-it-up-with-tests/","previous":{"fields":{"slug":"/2018-06-09--Blog-for-Young-(5):-Authentication/"},"frontmatter":{"title":"Blog for Young (4): Authentication"}},"next":{"fields":{"slug":"/2018-06-13--Creating-music-player-(2):-Specifics/"},"frontmatter":{"title":"Creating music player (2): Specifics"}}}}