<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.16aaefe531b6b7795df4.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-4124805c0503dbfe42dd67d7f5715964.woff2) format("woff2"),url(/static/montserrat-latin-100-c8fb2f714bbc7bc3e8dfffa916b286dc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e4bf47bd171a9b2a72dd84c58bf90edf.woff2) format("woff2"),url(/static/montserrat-latin-100italic-d1f3f2d02ee4d7d2d4b1ad865014f189.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-444ae007121264bc1969d49b4031f9b2.woff2) format("woff2"),url(/static/montserrat-latin-200-edbce16a90aa22c297a0307b85789837.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-f316c5d1ec40f3e68654c3f38b3999f3.woff2) format("woff2"),url(/static/montserrat-latin-200italic-d7bbb730d9b5e11720b3eb32326dcca7.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-0a7c6df06e85d978d096d4d18fd8d43d.woff2) format("woff2"),url(/static/montserrat-latin-300-5e86df2cad22d2ef2b03516334afae5e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-c076c4892bc7a4be7b9097e97a35012d.woff2) format("woff2"),url(/static/montserrat-latin-300italic-37c74a8d2d0d36a0a2c6e9a37ee15b0c.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-501ce09c42716a2f6e1503a25eb174c9.woff2) format("woff2"),url(/static/montserrat-latin-400-f29d2b8559699b6beb5b29b25b8bc572.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-882908d9950d9c86ebd380877f293d95.woff2) format("woff2"),url(/static/montserrat-latin-400italic-22e7b04e5f2a901d49d4d342315a715a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-f0f2716c5fe401d175b88715e7d28685.woff2) format("woff2"),url(/static/montserrat-latin-500-991b453bf90a0980e78966d2af7e3d3a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-4590ebba421b3288c305305d7fa7b504.woff2) format("woff2"),url(/static/montserrat-latin-500italic-f3d41e4cdcc2314e49ddcea751d6f87f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-15c24f7109941777774ddd2c636c6a50.woff2) format("woff2"),url(/static/montserrat-latin-600-f6dc6096f48956908c1787d9a722570a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-6d10b80529d5c36c7c09fca7193af0fc.woff2) format("woff2"),url(/static/montserrat-latin-600italic-02c4833312d94b1b0866f073023a250e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-79982cd1f74c6fa7451bf9b37ead09ff.woff2) format("woff2"),url(/static/montserrat-latin-700-957e93fbbe131a59791cd820d98b7109.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-283438e9577fe6a684466bb100e105ec.woff2) format("woff2"),url(/static/montserrat-latin-700italic-ca627c5ccc65cf80c2ecaea44b997de9.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-35386154b78d046218fc8f88a44ff515.woff2) format("woff2"),url(/static/montserrat-latin-800-756655905d91b77960888262e7d58d35.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-e1b52a7bd83e2324db6d92bdc206844c.woff2) format("woff2"),url(/static/montserrat-latin-800italic-a69f0add9d86c1a84311d7dd8693ba4a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-260c2ea3ef57feb82251952e605a36d5.woff2) format("woff2"),url(/static/montserrat-latin-900-186cae8091da578150d81958e217714a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-d785fb9fc74588ffb7f306799709a97d.woff2) format("woff2"),url(/static/montserrat-latin-900italic-43b527fe77254f97ea36e2b54e845ec4.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-a50c381443e6993188ed9cc4b6806866.woff2) format("woff2"),url(/static/merriweather-latin-300-2c73b119ad85e697123658b8a091ff83.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-bd410cbf8c272acd4fbdd9f61a7015bf.woff2) format("woff2"),url(/static/merriweather-latin-300italic-9deeb422b65afb1daacc039296bb3640.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-f936cb550d4dcd769f75c453207ac5e6.woff2) format("woff2"),url(/static/merriweather-latin-400-ab0616e6d856817eff54eb8c5e1664e4.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-5c9a23d08e2c851e5a25795b940acd4f.woff2) format("woff2"),url(/static/merriweather-latin-400italic-0ab4b54f3b1e8b14cf755970fde8ce35.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-1636f13a52ca3f0eb8784c9c57f62082.woff2) format("woff2"),url(/static/merriweather-latin-700-cc673c945b482dc1378d4a3c95ffd175.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-8b0db67123584893c6591accbc51640c.woff2) format("woff2"),url(/static/merriweather-latin-700italic-513649f5b9ba4675cff15cf3f7ad4f2a.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-46631a9aab93dec3ed34f429dd1a5646.woff2) format("woff2"),url(/static/merriweather-latin-900-a0528570caa2c785891308ce604d8db7.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-a26a8168916e5d4e5485081171d7fdb0.woff2) format("woff2"),url(/static/merriweather-latin-900italic-db42a3f34378e69ef5aebb6717f1f33e.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}#disqus_thread{width:95%;margin:auto}pre code{white-space:pre-wrap!important;white-space:-moz-pre-wrap!important;white-space:-pre-wrap!important;white-space:-o-pre-wrap!important;word-wrap:break-word!important}</style><meta name="generator" content="Gatsby 2.1.18"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#009688"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title data-react-helmet="true">군대에서 딥러닝 환경 구축하기 (Configuring a deep learning environment inside a military base) | Joel&#x27;s dev blog</title><meta data-react-helmet="true" name="description" content="문제 열악해도 너무 열악하다.  내 컴퓨터가 없다. 당연히 개인 GPU도 쓸 수 없다. 학교 GPU Farm에도 연결이 불가능하다.  로컬 컴퓨터(싸지방 컴)에서 작업은 당연히 못한다. 성능이 떨어질 뿐더러 저장도 안된다.  ssh connection…"/><meta data-react-helmet="true" property="og:title" content="군대에서 딥러닝 환경 구축하기 (Configuring a deep learning environment inside a military base)"/><meta data-react-helmet="true" property="og:description" content="문제 열악해도 너무 열악하다.  내 컴퓨터가 없다. 당연히 개인 GPU도 쓸 수 없다. 학교 GPU Farm에도 연결이 불가능하다.  로컬 컴퓨터(싸지방 컴)에서 작업은 당연히 못한다. 성능이 떨어질 뿐더러 저장도 안된다.  ssh connection…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Joel Mun"/><meta data-react-helmet="true" name="twitter:title" content="군대에서 딥러닝 환경 구축하기 (Configuring a deep learning environment inside a military base)"/><meta data-react-helmet="true" name="twitter:description" content="문제 열악해도 너무 열악하다.  내 컴퓨터가 없다. 당연히 개인 GPU도 쓸 수 없다. 학교 GPU Farm에도 연결이 불가능하다.  로컬 컴퓨터(싸지방 컴)에서 작업은 당연히 못한다. 성능이 떨어질 뿐더러 저장도 안된다.  ssh connection…"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}</style><link as="script" rel="preload" href="/component---src-templates-blog-post-js-d711ce188c4f9b102d9c.js"/><link as="script" rel="preload" href="/0-63a21d0c1363172370b5.js"/><link as="script" rel="preload" href="/app-7b4a7d7680de295de211.js"/><link as="script" rel="preload" href="/styles-fa6c583b3cd626e54a0e.js"/><link as="script" rel="preload" href="/webpack-runtime-245591d8c655be1f700a.js"/><link as="fetch" rel="preload" href="/static/d/202/path---2019-04-08-군대에서-딥러닝-환경-구축하기-configuring-a-deep-learning-environment-inside-a-military-base-ba-2-391-FdcVa5dJgL2KdwVNyKrU9zIp0.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Joel&#x27;s dev blog</a></h3></header><main><h1>군대에서 딥러닝 환경 구축하기 (Configuring a deep learning environment inside a military base)</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem;margin-top:-1.75rem">April 08, 2019</p><div><h1>문제</h1>
<ul>
<li>열악해도 너무 열악하다. </li>
<li>내 컴퓨터가 없다.</li>
<li>당연히 개인 GPU도 쓸 수 없다.</li>
<li>학교 GPU Farm에도 연결이 불가능하다. </li>
<li>로컬 컴퓨터(싸지방 컴)에서 작업은 당연히 못한다. 성능이 떨어질 뿐더러 저장도 안된다. </li>
<li>ssh connection이 불가하다.</li>
<li>과연 싸지방에서 딥러닝 공부/실습을 할 수 있을까?</li>
</ul>
<h1>목표</h1>
<ul>
<li>군대에서 싸지방으로 딥러닝 공부를 가능하게 만들기</li>
<li><a href="https://fast.ai">fast.ai</a> course material을 cloud에서 jupyter로 볼 수 있게 만들기 (내가 딥러닝을 처음 공부하기 위해 선택한 교재다)</li>
<li>내 개인 딥러닝 프로젝트를 cloud에서 돌릴 수 있게 만들기</li>
<li>최소한의 비용이 나가게 하기</li>
</ul>
<h1>Quick rundown</h1>
<ul>
<li>인내심이 필요함. 인내심이 없다면… 아무도 모른다.</li>
<li>AWS, Google (GCP) 계정이 필요함</li>
<li>계정 만들고 각 회사의 Cloud service에 가입하는 과정에서 신용카드 번호가 필요함 (돈이 나가는 것은 아님. AWS는 12 months of free tier, GCP는 $300 credit을 준다)</li>
</ul>
<h2>시작</h2>
<h3>1. 구글 계정 만들기</h3>
<ul>
<li><a href="https://accounts.google.com/signup/v2/webcreateaccount?hl=en-GB&#x26;flowName=GlifWebSignIn&#x26;flowEntry=SignUp&#x26;nogm=true">링크에 들어가서 계정을 만들자.</a> (있으면 스킵)</li>
</ul>
<h3>2. GCP에서 Credit 받기</h3>
<ul>
<li><a href="https://cloud.google.com/">GCP에서 무료로 시작하기</a> 클릭. GCP 들어가자마자 만약 GCP Signup이 되어있지 않으면 바로 Try it free라는 문구가 뜬다. 클릭.</li>
</ul>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/d7c11308573b7bf5503ded3e1137e71d/c6e42/1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 60.36161335187761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAByElEQVQoz21Ty47bMAz03/fU7+it935AT0WBvRZYtNvtJnYc25L1smzJmXLkOM0GNTCmHiOSQ1GV1grWGhhjYAn7z47jeIPWGqO5jgXLFPDr7PDxq8LTq4bVvfiwqFLOaHqNTo9ohxFnNUIZh7hkrOuKy+Xyzm7jFVnO5WUGLjPWNCPGGSklOlzx+2xQK4s/3YjjYNCOHofBIgjpf05pl2WBDwHWh2KD92WtKpsxYHIa3o0YlC6SgpCc20jvs9vG0zQVUGG+gutVlt+P2uP7i8HzyWOeZ4kYEcXO4uxRLkFp5O3BdoccF8mfvml8+NLj85ORmmSYIOSUwY+ke/DgJBdCp5zTUg2zLRnGGEtRsQoyixsxC2idnxCmbbyDh431pW773Ev9CDqtnHM41A3ejjWOTVPqZ62VFjFoTifUTY2+78vcXHEUftNs6GSPPnZUVn6v9Qk/D7VsDlBKlZ4juP78Vott0LYtuq4rAV+ES/5ZnJFPMFBxyDQpyz5IK3KkbbyANskF8BL2dSf86a48RJG8FxsPxV9XuRxK50uR6MxMSdaTOHrk3qMqrXBtC0ZLKd/ahD2WloRljpLd9hL29siZrRNv/bfjL42DoTq7xW68AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="GCP"
        title=""
        src="/static/d7c11308573b7bf5503ded3e1137e71d/40fad/1.png"
        srcset="/static/d7c11308573b7bf5503ded3e1137e71d/707e9/1.png 148w,
/static/d7c11308573b7bf5503ded3e1137e71d/649e0/1.png 295w,
/static/d7c11308573b7bf5503ded3e1137e71d/40fad/1.png 590w,
/static/d7c11308573b7bf5503ded3e1137e71d/c6e42/1.png 719w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<ul>
<li>가입 절차를 마무리하자. 신용카드 번호를 적어도 걱정없다. Credits가 다 나가도 돈이 청구되지 않는다. </li>
</ul>
<h3>3. AWS 가입하기</h3>
<ul>
<li><a href="https://portal.aws.amazon.com/billing/signup?redirect_url=https%3A%2F%2Faws.amazon.com%2Fregistration-confirmation&#x26;language=ko_kr#/">링크에 들어가서 계정을 만들자.</a></li>
</ul>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/ca2105cee856e38b97224c111ad8683e/89fdf/2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 42.662473794549264%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABHklEQVQoz32RXU+DMBSG+ZlqnAkx88KP6IW/VRwDt3DhhEJpuxEYMF5Pa1lYAC+enOa0PDnvwbl7eMNiecnt8nXEtfuMK/fJcHP/MrpfkMd9fIcjpYRGDJBKGYStcq/AUoaEJWCMmV5O77jICWHIiDTP4WRZBk2qK+f43u3w4Xn4XK3gEeswJFmKsixR10d0XYe2bc37hPo9sWUk/Ilj+L6PdRAg3GywjaI/YVUTDdoOaNrTvJCTZCjUVQsM+kzo6OUhhsq+UKkIdUXxuDAifZ8Qsa0O70VWps89uqc/kGqPQsXgLEAhtjjV6h/hxIRnrDCnhR+KCgVFblqgOjbnyPPCwVTDiXtpmqWGRP/tXmRXMxt5Ssgm9prY3U5N+AsdE4fqk+2S0QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="AWS"
        title=""
        src="/static/ca2105cee856e38b97224c111ad8683e/40fad/2.png"
        srcset="/static/ca2105cee856e38b97224c111ad8683e/707e9/2.png 148w,
/static/ca2105cee856e38b97224c111ad8683e/649e0/2.png 295w,
/static/ca2105cee856e38b97224c111ad8683e/40fad/2.png 590w,
/static/ca2105cee856e38b97224c111ad8683e/b3fef/2.png 885w,
/static/ca2105cee856e38b97224c111ad8683e/301c0/2.png 1180w,
/static/ca2105cee856e38b97224c111ad8683e/b5a53/2.png 1770w,
/static/ca2105cee856e38b97224c111ad8683e/89fdf/2.png 1908w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>중간에 신용카드 정보를 적는 과정이 있다. 신용카드와 함께 등록되어 있는 주소가 여기 입력하는 주소와 다르면 나중에 서비스를 이용하지 못할 수도 있다 (물론 고칠 수 있다. 하지만 귀찮다). 그러니 한 번에 끝내자.</p>
<p>학교에서 간혹 가다 AWS Educate를 지원하는 곳이 있다. 본인이 학교를 다니다가 왔으면 학교가 별도의 Credit을 지원하는지 꼭 확인해보자. </p>
<h3>4. AWS 가입 완료</h3>
<ul>
<li>가입이 완료됐으면 Confirmation 이메일이 올 것이다. </li>
<li>이제 <a href="https://aws.amazon.com/ko/console/">AWS Console</a>에 접속할 수 있다.</li>
</ul>
<h3>5. Cloud9 + EC2 Instance 생성</h3>
<ul>
<li>이 글을 적는 본인도 참 어이가 없는데, 별 방법이 없어서 이 방법을 써야 한다 (특히 SSH가 안 되기 때문에). 이해가 잘 안 될 수도 있는데, GCP Instance를 설정하는 용도로 AWS Cloud9을 쓸 것이다. 단지 그 용도로. </li>
<li>일단 AWS에 로그인 한 후 <a href="https://console.aws.amazon.com/cloud9">AWS Cloud9</a>으로 이동하자. 웹에서 IDE와 Terminal에 엑세스할 수 있을 것이다.
Cloud9이 찾기 힘들다면 검색해서 바로 찾자.</li>
</ul>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/fc0ccc0f6469b02e68324fa09a0b7db6/b0a39/3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 61.04611149346181%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABU0lEQVQoz4VRi07DMAzMD4OEUBFjiCE0PnZrt7brK22SGp9XtxkdwtKpydU+nx2z2X3Ty9snJa9bet7uKXnf09Pmix6SjxmPyU5ww72sOcB450jDjUS19dQHPvM9THC03P307fkwjAunMG3bURhHGhneezoeU8qLgvp+EH4YHDVtK98QkBMkN8tOVJTltS6EGaZpGuqsnQW7jhuEaxHC2p5qzrFTjvJVVXHTXs7KAwYkRHDBubxcpNh5L8nKQXTSYreDcHlerEQNRQHifD6LUw24zbKM+VyENApeS5pm5JxfBLHDeAx8j4cDlbybuAkmgOu4EQQv7DJ2hzBKIGSHXIhiOJtH5gZ1XVOcC8HTaZnmriCKMbKKxQ8AN8ojcMdLrwR/j5ym6bxoacJ7q9gd9rfkjrw7J1i98u2jhJUTJJU8no78XxjtBMDFPeg/O+33rzzgB6ivkcBSNEAsAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Cloud9"
        title=""
        src="/static/fc0ccc0f6469b02e68324fa09a0b7db6/40fad/3.png"
        srcset="/static/fc0ccc0f6469b02e68324fa09a0b7db6/707e9/3.png 148w,
/static/fc0ccc0f6469b02e68324fa09a0b7db6/649e0/3.png 295w,
/static/fc0ccc0f6469b02e68324fa09a0b7db6/40fad/3.png 590w,
/static/fc0ccc0f6469b02e68324fa09a0b7db6/b3fef/3.png 885w,
/static/fc0ccc0f6469b02e68324fa09a0b7db6/301c0/3.png 1180w,
/static/fc0ccc0f6469b02e68324fa09a0b7db6/b0a39/3.png 1453w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>그리고는 오른쪽에 있는 Create environment를 클릭</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/571fd6e7d4b067ea8194c95665843ef3/e8f64/4.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 17.47414262384322%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAm0lEQVQI122P6wrCMAyF9/5P4yv4AiKI+qND2dZ6Ge3aNFvnnOXYiqCggS85uRCSoq5qaG1grcOuOmNdSmxEhe2hgZAtSpVIMWvx1rkm5PXTUxri4nA8tShuTIjzhGytH9B0PaQhGA5w4Z6Y/mK/c2ZY70H9gIKTm+cHYowgonStTtd2GMfxhxDC65M855yDz0s8g/dL+NUCpASeq27iftWkNuIAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Create environment"
        title=""
        src="/static/571fd6e7d4b067ea8194c95665843ef3/40fad/4.png"
        srcset="/static/571fd6e7d4b067ea8194c95665843ef3/707e9/4.png 148w,
/static/571fd6e7d4b067ea8194c95665843ef3/649e0/4.png 295w,
/static/571fd6e7d4b067ea8194c95665843ef3/40fad/4.png 590w,
/static/571fd6e7d4b067ea8194c95665843ef3/b3fef/4.png 885w,
/static/571fd6e7d4b067ea8194c95665843ef3/301c0/4.png 1180w,
/static/571fd6e7d4b067ea8194c95665843ef3/b5a53/4.png 1770w,
/static/571fd6e7d4b067ea8194c95665843ef3/e8f64/4.png 1837w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>이름은 아무거나 친다. 나는 <code class="language-text">gcp</code>라고 했다. </p>
<p>EC2 Instance 설정을 할 수 있다. OS는 Amazon linux에서 Ubuntu로 바꿔주자. 나머지는 그대로. 어차피 여기서 데이터 학습을 돌릴 게 아니라서 최소 사양의 Instance로 만들어도 상관없다. </p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/0d01d7e11e3589e6396e74874b338bae/8fb9d/5.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 92.21748400852879%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB8UlEQVQ4y41Uu47bMBDUJ+d/8gOpUqdMG6QIUgdIdWdZL4oSRVIva7JDUTrBlu9CYECKpoezO7tMqrqGbhqYroPvPbz36AW2HzDOC87H+f40TUhI1rQtWoE2HV7yCtfsitf0ijTLkRcF0muGSikYa9EPA4ZxXOdhFMjFQsRBMUlrDAiSOr8qVKK61hpK1SgrJajC/hDJRsHZ8H2PJKiLhKazqFsT1PJPDIFYlmXH7XYLOO4RO2EgMytJI4SFNijLUkItg0qtm0DOw1MMbc/kM8K3kB28c8gDYSF5q0HTSHiv6Ej0lNAKWUeVQliIwia4b/fcDZH4TOUThT6Uz2uaBoe5TzctyyjCRXA9z/P7Cp0o7GWzk5mlMMTcncG9R7iZ0kp4WamgpFRIfm/CR+PUZWWs5E7LtwkHqIJlss8RW/nMh98eTbGrIS8X5jBDye6QnG6XEi4WuPNr6JtZobTuO6UTQq6tdWviJezbQc0OydkUVZ2G/NYpXXgoWpmt88Ec7m3zEbzcyMVVK93VufOQeYhhXqRkLhIykUsf13IJoQi9QcPJi+TGGQPNW4RQGuOBkGEGgyL4/b+jlypKNrLjfI9gSLuu2YqMgn2e5bmsazR/fqD5/Q36769Hwo/Ap43g+5jnBQol4X//DPXlE/TPr/gHqnFzN6olY0gAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Instance configuration"
        title=""
        src="/static/0d01d7e11e3589e6396e74874b338bae/40fad/5.png"
        srcset="/static/0d01d7e11e3589e6396e74874b338bae/707e9/5.png 148w,
/static/0d01d7e11e3589e6396e74874b338bae/649e0/5.png 295w,
/static/0d01d7e11e3589e6396e74874b338bae/40fad/5.png 590w,
/static/0d01d7e11e3589e6396e74874b338bae/b3fef/5.png 885w,
/static/0d01d7e11e3589e6396e74874b338bae/8fb9d/5.png 938w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>아. 그리고 EC2 Instance를 켜고 끄는 것에 신경쓰지 않아도 된다. Cloud9에 접속할 때 자동으로 켜지고, 끄고 나서 30분뒤에 EC2도 같이 자동으로 꺼진다. 설정만 바꾸지 않는다면.
그 다음 계속 그냥 진행. 노란 확인 버튼만 계속 누르면 된다.
다 왔다. 이제 방금 만든 instance를 IDE에서 열어보자. 한 1~2분 기다리면 IDE가 준비된다. </p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/908eddd2313c072a7977c5b72cedd1c0/5e92d/6.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 116.20294599018004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC90lEQVQ4y5WUW0/UUBSF+yNMQB+MEXjAB0EgJoYYoy/66L+TGO4gFxH0wV8BCS+AmjiZYQoznU5vp+3M9N7l3qcUBiRhaPKlTXu6zlp7n3OUB08mMDYxi3cfPuLR2BSGR6cx+eo9Ho+/xMOxGTybeYvR57MYn36D4ZEpjE2+xtDICww9vQV6ryyufcXi6iZ+7O1gfmUTS1++YXv3J9a29rCysYv17e+YX93Cwto2Pi9vYGF9B3PLm5hbumD5ik9LG1BAl6ZpEMJFu93GbVeW5/AyQE8BK8zhJoCfE/SOn0t6NFaJkwRJmiFOUsR8Z+K4gL6FYQjDslExO9g8NrB/UsHh8V8c/qrg4OgP9o9+Sw6Ik+o5lDwOkLl6gdNEKnTkfe7SNIVN7ltuD5oXot0Joft096OCTkxE8p3mBlDCMIDV1uGYJmzTQJbEUijPC9mEBF3PhapbqGoWTnWbJhDQDQMtotnSoVGpHNeF8DwoURTBpEiWTVgWDNNCEATXHAoa7NJg2xGwHAcOIccT/K3b7aJH/zBKmibo9XpShOuVUN1YJMsy6ZKfeXaPBFVVRb2uonZaR6VSRbVWQ5tcsqmy7kocR3J2h2J0aKYybhm5qKFAQKXJsrSYrI+UmyqJkbDgzSVSCvULcixLxhUwbec6DlN8c6h5Summ39VNhzy4KbpoUBe5ozcxCFUEOLP9uwU5Jjs5px9qTgSPFnA/Li2KDi34ikhQs7r/R74ZnZtjkCA74R9FlF/CYox8JvGWFwwimMKgyBovbIpdCtlBiqbToVJ0YPUSCHonF/YgguZFDVtu99KVE6ZQ2zbtlhAuO2bBgR1S5NJhgwrPjsqopeP7CcrIXZwZQm49vjcsTzps2N6F+MCCV03xU1xGlvR3O71nZBbkHy8jRhkcOnksvweT3BskxifSwA5bVHwhm5GDlqPssmbQ6XPehNrUcc7xxQDrUB4OtKUapkO1u47aJoyCOsFjBhLkvez7PuH14d/KwIIuDeZT6S7+AUX3tUCSAJ8hAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Open IDE"
        title=""
        src="/static/908eddd2313c072a7977c5b72cedd1c0/40fad/6.png"
        srcset="/static/908eddd2313c072a7977c5b72cedd1c0/707e9/6.png 148w,
/static/908eddd2313c072a7977c5b72cedd1c0/649e0/6.png 295w,
/static/908eddd2313c072a7977c5b72cedd1c0/40fad/6.png 590w,
/static/908eddd2313c072a7977c5b72cedd1c0/5e92d/6.png 611w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h3>6. Cloud9에서 GCP Instance 생성</h3>
<p>사실 지금부터는 <a href="https://course.fast.ai/start_gcp.html">fast.ai에서 gcp docs</a>를 보는 게 더 편할 수도 있다. 동일한 방법을 여기서도 소개한다.</p>
<p>cloud9 IDE 하단에 보이는 Terminal에서 다음 command를 실행한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># Create environment variable for correct distribution</span>
<span class="token function">export</span> CLOUD_SDK_REPO<span class="token operator">=</span><span class="token string">"cloud-sdk-<span class="token variable"><span class="token variable">$(</span>lsb_release -c -s<span class="token variable">)</span></span>"</span>

<span class="token comment"># Add the Cloud SDK distribution URI as a package source</span>
<span class="token keyword">echo</span> <span class="token string">"deb http://packages.cloud.google.com/apt <span class="token variable">$CLOUD_SDK_REPO</span> main"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/apt/sources.list.d/google-cloud-sdk.list

<span class="token comment"># Import the Google Cloud Platform public key</span>
<span class="token function">curl</span> https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key add -

<span class="token comment"># Update the package list and install the Cloud SDK</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk</code></pre></div>
<p>중간중간에 <code class="language-text">Y/N</code>을 묻는 문구가 나올 수도 있다. 나는 대부분 큰 영향은 없다고 생각하고 <code class="language-text">Y</code>라고 눌렀다. 다 환경설정에 지대한 영향을 미치지는 않는 질문들이다. </p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/2ea37b6eb97a6f314cbf871ccc432f6d/868a5/7.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 85.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABmElEQVQ4y6WS63KCMBCFef+Xa8eq1YoooEbutAQIxJnT3VipIFpn+uObJUtycnY3ljjsIYRAFEWI4xhBGCDLMqRpiiRJOspSUj5HnNK+PISUJQpZUJQ9rCj/QkwbZVGYTU2joLW+oW1bE0/6ZOD1GFZaVPCDCHXFYm13eMgwP3YpY2n6qZQisabn5J6Dv7Cubxu6uefiEVYn8qC8fzt8Dj3KjeCJJ3nSJmrdDrgurx3F6peokdAzOkb0Dj8lFA1K0eRNVA2qWhlqgtdjWNd9qyjxbvt4mdmYfrh4W26wWO9M7mMrcIgLiETimJYI85qofuIvfUG6mQ+/zm3MVi4m7w5ckSDIqiuRM5wboydYkuD2kGAX5sSnwQ9ys/aDjBx+dWJDZ6MOWXC52cPxQxKO4R2zrkyGvy9i90Q7QZ5qWSnY7pH6dTDC/G17AdYE5zyR9sp9LEhPRZY1JgsH0+UWc9vDigaxcgXW5JjhfrLTpxyeh9Jgs48N3Esu29lFppeXcp8u+SLIz2O+8gwLZ2emzW75gsukHw3lG0KAGxbbfO6pAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Use terminal"
        title=""
        src="/static/2ea37b6eb97a6f314cbf871ccc432f6d/40fad/7.png"
        srcset="/static/2ea37b6eb97a6f314cbf871ccc432f6d/707e9/7.png 148w,
/static/2ea37b6eb97a6f314cbf871ccc432f6d/649e0/7.png 295w,
/static/2ea37b6eb97a6f314cbf871ccc432f6d/40fad/7.png 590w,
/static/2ea37b6eb97a6f314cbf871ccc432f6d/b3fef/7.png 885w,
/static/2ea37b6eb97a6f314cbf871ccc432f6d/868a5/7.png 1050w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h3>7. GCP에서 프로젝트 생성</h3>
<p>GCP 홈페이지 네비게이션 좌측에 있는 프로젝트 Dropdown을 클릭하여 새 프로젝트를 만들자. </p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/b3248637453cab515e6050437bef257e/cddd7/8.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 22.07880434782609%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA4UlEQVQY033K30vCUADF8f1z9ST02n8Q0YPRaz/Jimm0iuYg8Do37+7cWj31VAQRoYRKUPSPWBp2Z9+mQvXkgQ/nPBxj/9Sn5IQUHYVZDjDtYLJ3LI/1UnWqWGHrULCZ+d9juyc+hcx29j+wQ4y55XNyeTGxsFYjt+oyv1JhybzGlC32vCZW1MG56mInf86SDuXLLlbY4jhz1GizuBFj+J5LIOuooE5yERE1FG5V8Pb6Anwz0l/MSqo1ejj9PD7cY0gpUSokjuNfQgie2s/0h9Dr65neBykfnym9wYib2zt+APSf+8/HZVtPAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Add new project"
        title=""
        src="/static/b3248637453cab515e6050437bef257e/40fad/8.png"
        srcset="/static/b3248637453cab515e6050437bef257e/707e9/8.png 148w,
/static/b3248637453cab515e6050437bef257e/649e0/8.png 295w,
/static/b3248637453cab515e6050437bef257e/40fad/8.png 590w,
/static/b3248637453cab515e6050437bef257e/b3fef/8.png 885w,
/static/b3248637453cab515e6050437bef257e/301c0/8.png 1180w,
/static/b3248637453cab515e6050437bef257e/cddd7/8.png 1472w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>나는 fast-ai로 이름지었다. </p>
<p>billing account와 project가 연결되어 있는지 확인하자. <a href="https://console.cloud.google.com/billing/projects">billing/projects</a>에 들어가서 무언가가 있으면 연결이 되어있다는 뜻이다. </p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/dc7041ed8bdfc8aaa85370089eefd8aa/d821c/9.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 34.493346980552715%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABAUlEQVQoz52QPW7DMAyFffNcIMgxcoAMHgJkib1mzZ4treHUtaw/SuIrJcUFCiRLCTxREMVPj2r6vkfbtpimCeP4QI6UGMz/U+OcQ1aMESEEwXERcxLwa8X0vtZkqtYaSikBRkwq4PNB0DY9wfybs3PpQT4KgUHEYoSxRnGYqRlGRPCecB8tFu+lHMBS8xQFHiXnRhJ9I8RZcnwqyYQe1prqMC/DMJSxK3RBd2Ycj9WZ1g73jy9Yp3C9Ena7BZuNETG224TLhcvjSukyQQEao2GNLf/onMG5i+i6OooXt/M8I5DG7cbY74HTCTgc8p7lkXqPKFQg3sb6f3/PXimD1vgBSiQdpUNnoC0AAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Billing account and project connected"
        title=""
        src="/static/dc7041ed8bdfc8aaa85370089eefd8aa/40fad/9.png"
        srcset="/static/dc7041ed8bdfc8aaa85370089eefd8aa/707e9/9.png 148w,
/static/dc7041ed8bdfc8aaa85370089eefd8aa/649e0/9.png 295w,
/static/dc7041ed8bdfc8aaa85370089eefd8aa/40fad/9.png 590w,
/static/dc7041ed8bdfc8aaa85370089eefd8aa/b3fef/9.png 885w,
/static/dc7041ed8bdfc8aaa85370089eefd8aa/d821c/9.png 977w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>다 끝나면 <strong>Cloud9으로 돌아가</strong> init하자.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ gcloud init
Welcome<span class="token operator">!</span> This <span class="token function">command</span> will take you through the configuration of gcloud.

Your current configuration has been <span class="token keyword">set</span> to: <span class="token punctuation">[</span>default<span class="token punctuation">]</span>

You can skip diagnostics next <span class="token function">time</span> by using the following flag:
  gcloud init --skip-diagnostics

Network diagnostic detects and fixes local network connection issues.
Checking network connection<span class="token punctuation">..</span>.done.                                                                                                                                                                                                                 
Reachability Check passed.
Network diagnostic passed <span class="token punctuation">(</span>1/1 checks passed<span class="token punctuation">)</span>.

You must log <span class="token keyword">in</span> to continue. Would you like to log <span class="token keyword">in</span> <span class="token punctuation">(</span>Y/n<span class="token punctuation">)</span>?  </code></pre></div>
<p>  이 다음에 <code class="language-text">Y</code>를 입력하고 시키는 대로만 진행하자. 로그인은 방금 GCP에서 작업한 구글 계정으로 한다. 진행하다 보면 내가 만들었던 프로젝트를 선택할 수 있다:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">You are logged <span class="token keyword">in</span> as: <span class="token punctuation">[</span>email@gmail.com<span class="token punctuation">]</span>.

Pick cloud project to use: 
 <span class="token punctuation">[</span>1<span class="token punctuation">]</span> fast-ai-******
 <span class="token punctuation">[</span>2<span class="token punctuation">]</span> Create a new project
Please enter numeric choice or text value <span class="token punctuation">(</span>must exactly match list 
item<span class="token punctuation">)</span>:  1

Your current project has been <span class="token keyword">set</span> to: <span class="token punctuation">[</span>fast-ai-******<span class="token punctuation">]</span>.</code></pre></div>
<p>  완료.</p>
<h3>8. GCP Instance 생성</h3>
<p>다음 커맨드를 cloud9 terminal에 복붙하자. </p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">export</span> IMAGE_FAMILY<span class="token operator">=</span><span class="token string">"pytorch-latest-gpu"</span> <span class="token comment"># or "pytorch-latest-cpu" for non-GPU instances</span>
<span class="token function">export</span> ZONE<span class="token operator">=</span><span class="token string">"us-west2-b"</span> <span class="token comment"># budget: "us-west1-b"</span>
<span class="token function">export</span> INSTANCE_NAME<span class="token operator">=</span><span class="token string">"my-fastai-instance"</span>
<span class="token function">export</span> INSTANCE_TYPE<span class="token operator">=</span><span class="token string">"n1-highmem-8"</span> <span class="token comment"># budget: "n1-highmem-4"</span>

<span class="token comment"># budget: 'type=nvidia-tesla-k80,count=1'</span>
gcloud compute instances create <span class="token variable">$INSTANCE_NAME</span> \
        --zone<span class="token operator">=</span><span class="token variable">$ZONE</span> \
        --image-family<span class="token operator">=</span><span class="token variable">$IMAGE_FAMILY</span> \
        --image-project<span class="token operator">=</span>deeplearning-platform-release \
        --maintenance-policy<span class="token operator">=</span>TERMINATE \
        --accelerator<span class="token operator">=</span><span class="token string">"type=nvidia-tesla-p4,count=1"</span> \
        --machine-type<span class="token operator">=</span><span class="token variable">$INSTANCE_TYPE</span> \
        --boot-disk-size<span class="token operator">=</span>200GB \
        --metadata<span class="token operator">=</span><span class="token string">"install-nvidia-driver=True"</span> \
        --preemptible</code></pre></div>
<p>아마도 </p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">ERROR: <span class="token punctuation">(</span>gcloud.compute.instances.create<span class="token punctuation">)</span> Could not fetch resource:
 - Quota <span class="token string">'GPUS_ALL_REGIONS'</span> exceeded. Limit: 0.0 globally.</code></pre></div>
<p>이런 에러가 뜰 것이다. 뜬다면</p>
<ul>
<li>GCP 홈페이지 맨 오른쪽 위에 계속 떠 있는 ‘활성화’ 버튼을 누르고 ‘업그레이드’ 클릭</li>
<li><a href="https://console.cloud.google.com/iam-admin/quotas">GCP Quotas page</a>에 들어가서 다음과 같이 필터 설정</li>
</ul>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/eed77c4764c80ac4953110df498fef0c/08646/10.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 29.86322188449848%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA0klEQVQY021Quw7DIAzk/7+rS9cOXTq1UxspIoSEgHlcsQlppdbSibPB5zPqNQzw2wbrMrQlECWUUpBzPpDSb+1z19BzpbWGtRYcJSfhMUYRYBARxnHEuq7SyLUQgrzLuXBXRUJOUZjaqjuG96HC79wLWKw7JIrCy+6Eh9YE9+eG89Vg0F5MKZ7ELud5hnNOYIyRc5omEe5uff0O59OxIsftYXG66CpITZAnceOyLG3tfU2O/i9dUNzWNdlxr7eVcfSqVvwUev6XfwkcQyp4SH/7Bjik1w2EuLBgAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Filters"
        title=""
        src="/static/eed77c4764c80ac4953110df498fef0c/40fad/10.png"
        srcset="/static/eed77c4764c80ac4953110df498fef0c/707e9/10.png 148w,
/static/eed77c4764c80ac4953110df498fef0c/649e0/10.png 295w,
/static/eed77c4764c80ac4953110df498fef0c/40fad/10.png 590w,
/static/eed77c4764c80ac4953110df498fef0c/b3fef/10.png 885w,
/static/eed77c4764c80ac4953110df498fef0c/301c0/10.png 1180w,
/static/eed77c4764c80ac4953110df498fef0c/08646/10.png 1316w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>‘할당량 수정’ 클릭 후 요청을 제출한다. <strong>2일쯤 걸린다는데…</strong></p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/9c30cc2d3c3a7a272d86647d6c38e24c/dd6a0/11.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 103.25732899022802%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACVklEQVQ4y52UuY4TQRCG55kQR0gIJCsR8gxEK2ADsl2JM0ALEQlPwCGOZ0AiAhFg4dus7fGcPXfP7Z+u9rRlyxby0NKnqpmqrqmpqm4tCGNYjMNxHHQ6HXS7Xei6jul0in6/jyiKwDlHkiQHoSU8AwsLeH6AXn+I6WwOl/mwLEcENpDwFGmWg6f7SRukLvy0sswBFIISq7UUVIK6oWzsh6FdmBznnzy8/EwwvPriyedn75nkucTb5cPK58VHT+558pbh3dcQ2o9BjBunJo4e2zh6ZOH2Uxu3zixcOzFw9YGBK/d1XL63n0vHc1x/uMDNU0PoOo7fOKsajvUIvQsfw1mI/jTAQDCaB5joIXQ3h+GVMFixwmtodN0tMHdIlrD9jGpYIvAcmIsZHHsB5pgIfBe2tYDH7KaOh61lXUKjzoRhhOFwhMnkDxjzxJiIzqYZslzYxNgEQSh9oigWo8GlnfSgeUf2LC9QiOS0TARMOZezRtmSTNMUuQiWZZlkUyefoii2bORfVZW0acpQ1zWWy2Ur1B611gHJ8L+o4OuAlH4QBDAMQx45cmq7tgJSDeI4lkFJp7X5dbWhpkwafR9bv0xYlgXbtuUlQdJ1XYkldJts4zFc04Td2KkRFIiasVPDzSKrbimpqET2pSiPela+OwFV2+mX1VXVtnY7GdKg+uL6CuXgJlsjseYfY6V8qcEy4OqKqqSkr6hBJtkG2iNPys9BiG+/fHzvhTJLzhP5NXIi2QZ525y8HuHO2W/cPR9CNxz4Hltn2hbZlLKk6LlEnVWVXduAfwFabzyEc3CTtwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="할당량 수정"
        title=""
        src="/static/9c30cc2d3c3a7a272d86647d6c38e24c/40fad/11.png"
        srcset="/static/9c30cc2d3c3a7a272d86647d6c38e24c/707e9/11.png 148w,
/static/9c30cc2d3c3a7a272d86647d6c38e24c/649e0/11.png 295w,
/static/9c30cc2d3c3a7a272d86647d6c38e24c/40fad/11.png 590w,
/static/9c30cc2d3c3a7a272d86647d6c38e24c/dd6a0/11.png 614w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>완료하면 이런 이메일을 받게 된다. <em>언제 끝나나..</em></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Hello,

Thank you for contacting Google Cloud Platform Support.

This message is to confirm that we&#39;ve received your quota request for  
project &#39;fast-ai-******&#39;. Quota increase requests typically take two  
business days to process. If this quota request is very urgent, please  
respond to this email so that our support agents can have full context when  
processing your quota increase request.

While we make every effort to provide you with a resolution to your case  
within two business days, please understand that some of the quota increase  
requests may require further evaluation which takes additional time.

If you have any further information and clarification you would like to  
include in your request, please feel free to reply to this email.

Best regards,
Google Cloud Platform Support</code></pre></div>
<p>2일만 기다리자. 2일만…</p>
<p>자고 일어나서 이메일을 확인하니까 벌써 뭔가 Notification이 와 있었다. 확인.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Hello,

Your quota request for project &#39;***********&#39; has been approved and your  
quota has been adjusted accordingly.

Changed Quota:
+------------------+------------------+
| GLOBAL Attribute | GPUS_ALL_REGIONS |
+------------------+------------------+
|     Changes      |      0 -&gt; 1      |
+------------------+------------------+
....</code></pre></div>
<p>드디어 GPU를 쓸 수 있다. </p>
<p>그럼 다시 Cloud9 terminal로 돌아가자. 다시 다음 Command를 실행한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">export</span> IMAGE_FAMILY<span class="token operator">=</span><span class="token string">"pytorch-latest-gpu"</span> <span class="token comment"># or "pytorch-latest-cpu" for non-GPU instances</span>
<span class="token function">export</span> ZONE<span class="token operator">=</span><span class="token string">"us-west2-b"</span> <span class="token comment"># budget: "us-west1-b"</span>
<span class="token function">export</span> INSTANCE_NAME<span class="token operator">=</span><span class="token string">"my-fastai-instance"</span>
<span class="token function">export</span> INSTANCE_TYPE<span class="token operator">=</span><span class="token string">"n1-highmem-8"</span> <span class="token comment"># budget: "n1-highmem-4"</span>

<span class="token comment"># budget: 'type=nvidia-tesla-k80,count=1'</span>
gcloud compute instances create <span class="token variable">$INSTANCE_NAME</span> \
        --zone<span class="token operator">=</span><span class="token variable">$ZONE</span> \
        --image-family<span class="token operator">=</span><span class="token variable">$IMAGE_FAMILY</span> \
        --image-project<span class="token operator">=</span>deeplearning-platform-release \
        --maintenance-policy<span class="token operator">=</span>TERMINATE \
        --accelerator<span class="token operator">=</span><span class="token string">"type=nvidia-tesla-p4,count=1"</span> \
        --machine-type<span class="token operator">=</span><span class="token variable">$INSTANCE_TYPE</span> \
        --boot-disk-size<span class="token operator">=</span>200GB \
        --metadata<span class="token operator">=</span><span class="token string">"install-nvidia-driver=True"</span> \
        --preemptible</code></pre></div>
<p>완료되면 뭐라뭐라 뜬다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">Created <span class="token punctuation">[</span>https://www.googleapis.com/compute/v1/projects/fast-ai-******/zones/us-west2-b/instances/my-fastai-instance<span class="token punctuation">]</span>.
WARNING: Some requests generated warnings:
 - Disk size: <span class="token string">'200 GB'</span> is larger than image size: <span class="token string">'30 GB'</span><span class="token keyword">.</span> You might need to resize the root repartition manually <span class="token keyword">if</span> the operating system does not support automatic resizing. See https://cloud.google.com/compute/docs/disks/persistent-disks<span class="token comment">#repartitionrootpd for details.</span>

NAME                ZONE        MACHINE_TYPE  PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP    STATUS

<span class="token punctuation">..</span><span class="token punctuation">..</span></code></pre></div>
<p>이제 연결해보자.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">gcloud compute <span class="token function">ssh</span> --zone<span class="token operator">=</span><span class="token variable">$ZONE</span> jupyter@<span class="token variable">$INSTANCE_NAME</span> -- -L 8080:localhost:8080</code></pre></div>
<p><code class="language-text">passphrase</code>를 물어보면서 진행을 묻는다. 만든 적 없으니 다 엔터 치면 instance에 접속이 가능하다. 드디어 성공.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/9d82a9076c35b7d2f3a797db1c997172/e7bf0/12.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 583px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 34.476843910806174%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABDUlEQVQoz5VRWVKDUBDk/seJllaJClnZQoCEbJAg4Jpcop2eRwz650fX9DBM93Q9K4kcRJ6N9cLFRlAsx9hnIxSrMZp9gI9q8S9YsW8j9h+Rx46IOtiJGIXJi9UE78cYpzrFV4fPl0TR7/vc2qVDHNdTvYwC1cZT0W3iotp6qHe+XBrqteSvZYRWwL4pQuW1zkwai/HKfGp+6Jb2In4Qk0N+NSoF5DQkyLl34dRRQUbjojqJy5tEPLcZTo3BuV121fT9iAaJfE9/ZtZGonnDG415gcZiHIGJOdfrWbn8V/TXo3AYjG41Ioczd4BV9ARfTGbOANHkDvPpPdLgAVlo64MxPo2zkI/5rELUYf0GcMjoJpqjERoAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Connection successful"
        title=""
        src="/static/9d82a9076c35b7d2f3a797db1c997172/e7bf0/12.png"
        srcset="/static/9d82a9076c35b7d2f3a797db1c997172/1f372/12.png 148w,
/static/9d82a9076c35b7d2f3a797db1c997172/8955b/12.png 295w,
/static/9d82a9076c35b7d2f3a797db1c997172/e7bf0/12.png 583w"
        sizes="(max-width: 583px) 100vw, 583px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>shell의 <code class="language-text">$</code>앞에 <code class="language-text">jupyter@my-fastai-instance</code>라는 글이 생긴 걸 볼 수 있다.</p>
<h4>주의할 점</h4>
<p>우리는 <a href="https://course.fast.ai/start_gcp.html#preemptible-instances">Preemtible instance</a>를 생성했다 (command 입력시 <code class="language-text">preemptible</code> flag를 참고). Fast.ai의 말에 따르면 (1) 큰 수요가 있으면 30초 안에 멈출 수도 있고 (그러지 않ㅇ기를 바래야지) (2) 24시간을 쓴 후에는 무조건 꺼진단다. 그래서 이게 더 싸고 초보자에게 알맞는 instance라고 한다. </p>
<h3>9. 업데이트 후 notebook 실행</h3>
<p>사실 instance에 이미 <code class="language-text">tutorials</code>라는 폴더가 있고 그곳에 jupyter notebook이 있다. <code class="language-text">course-v3</code>라는 폴더에 접근하자.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">cd</span> tutorials/fastai/course-v3
<span class="token function">git</span> checkout <span class="token keyword">.</span>
<span class="token function">git</span> pull</code></pre></div>
<p>course를 가장 최신 상태로 업데이트했다. </p>
<p>그리고 <code class="language-text">conda</code>를 써서 업데이트.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> /opt/anaconda3/bin/conda <span class="token function">install</span> -c fastai fastai</code></pre></div>
<p>나는 <code class="language-text">pipenv</code>를 써서 사실 <code class="language-text">conda</code>가 어떻게 돌아가는지는 잘 모른다. 확인해보니 <code class="language-text">conda</code>는 깔려있고 <code class="language-text">pipenv</code>는 안 깔려있기도 하고, fastai도 이렇게 시키니까 그냥 <code class="language-text">conda</code>를 쓰자. </p>
<h3>10. 기타</h3>
<p>일단 <a href="https://www.opera.com">opera 브라우저</a>를 설치하자. 싸지방에서 Github이 막혀있으므로 vpn을 지원하는 opera를 사용해야 한다. 물론 속도가 좀 느려지는 건 감안해야 한다. 울지 말자. 할 수 있다. </p>
<p>오페라 브라우저를 열은 후 설정 -> 고급 -> 기능 -> vpn 사용 on.</p>
<p>이제 깃헙에 들어갈 수 있다.</p>
<p>됐다. 거의 다 왔다. </p>
<h3>10. Jupyer notebook 실행</h3></div><hr style="margin-bottom:1.75rem"/><div style="display:flex;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMEBQH/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABxVp7LNvUV5APQCf/xAAcEAEAAgEFAAAAAAAAAAAAAAABAAIhERITMjT/2gAIAQEAAQUCLay4ruvEON64jSpL+qjj/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFREBAQAAAAAAAAAAAAAAAAAAEAH/2gAIAQIBAT8BIf/EACAQAAIABQUBAAAAAAAAAAAAAAABAhESMVEDECIyQXH/2gAIAQEABj8CFLF8naIVK5GnC36WROlEC+bf/8QAHhAAAgMAAQUAAAAAAAAAAAAAAREAITFBUWFxgZH/2gAIAQEAAT8hNwGaJYcNmMAw6FaYOBzLfscWSPK9R8DD2leCKRjoXP/aAAwDAQACAAMAAAAQiMA8/8QAFxEBAAMAAAAAAAAAAAAAAAAAEAERUf/aAAgBAwEBPxCtJP/EABcRAAMBAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QRlf/xAAeEAEBAAICAgMAAAAAAAAAAAABEQAhQVExYYGRwf/aAAgBAQABPxCQ2RcDjTD5Aqu/XU9YG0cBLNPJJIsIPnSYXm6AWw5PzLTucqLm6AbXtjQHjOrtxKkUr95//9k=" alt="Joel Mun" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 0.5s;transition-delay:0.25s;border-radius:50%"/><noscript><picture><img width="50" height="50" srcset="/static/2d9562b52b70ef19bf9f1f3dfff052ef/c3bbc/profile-pic.jpg 1x,
/static/2d9562b52b70ef19bf9f1f3dfff052ef/ac385/profile-pic.jpg 1.5x,
/static/2d9562b52b70ef19bf9f1f3dfff052ef/587d5/profile-pic.jpg 2x,
/static/2d9562b52b70ef19bf9f1f3dfff052ef/20b3c/profile-pic.jpg 3x" src="/static/2d9562b52b70ef19bf9f1f3dfff052ef/c3bbc/profile-pic.jpg" alt="Joel Mun" style="position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:0.5s;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Joel Mun</strong>. Joel loves: <strong>javascript</strong> &amp; python. Also likes: React, Node.<!-- --> <a href="https://github.com/9oelM">Go check him up on Github!</a></p></div><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/2019-03-17--deploying-a-serverless-crawler-with-python-+-lambda+dynamoDB/">← <!-- -->Deploying a serverless crawler with python + lambda</a></li><li><a rel="next" href="/2019-05-05--Memoization-in-python-using-a-decorator:-getting-a-prime-number/">Memoization in python using a decorator: getting a prime number<!-- --> →</a></li></ul><div id="disqus_thread" identifier="f4fde633-7879-5214-93d3-6f9855dd9d95" title="군대에서 딥러닝 환경 구축하기 (Configuring a deep learning environment inside a military base)" url="https://9oelm.github.io/2019-04-08--군대에서-딥러닝-환경-구축하기-(Configuring-a-deep-learning-environment-inside-a-military-base)/"></div></main><footer>© Joel Mun <!-- -->2019<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-105275697-3', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2019-04-08-군대에서-딥러닝-환경-구축하기-configuring-a-deep-learning-environment-inside-a-military-base-ba2","path":"/2019-04-08--군대에서-딥러닝-환경-구축하기-(Configuring-a-deep-learning-environment-inside-a-military-base)/"};window.dataPath="202/path---2019-04-08-군대에서-딥러닝-환경-구축하기-configuring-a-deep-learning-environment-inside-a-military-base-ba-2-391-FdcVa5dJgL2KdwVNyKrU9zIp0";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-7b4a7d7680de295de211.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-218dfb3689e1ed90b306.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-d711ce188c4f9b102d9c.js"],"component---src-pages-404-js":["/component---src-pages-404-js-36151ee3261d44b82bc6.js"],"component---src-pages-index-js":["/component---src-pages-index-js-e04a2d4d30837dc5e493.js"],"pages-manifest":["/pages-manifest-1c835b52d41028161e05.js"]};/*]]>*/</script><script src="/webpack-runtime-245591d8c655be1f700a.js" async=""></script><script src="/styles-fa6c583b3cd626e54a0e.js" async=""></script><script src="/app-7b4a7d7680de295de211.js" async=""></script><script src="/0-63a21d0c1363172370b5.js" async=""></script><script src="/component---src-templates-blog-post-js-d711ce188c4f9b102d9c.js" async=""></script></body></html>